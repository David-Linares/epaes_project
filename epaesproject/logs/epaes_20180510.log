INFO 2018-05-10 00:19:53,373 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:19:53,373 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525929593058, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929593058, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': 'start', 'title': 'Get Started'}}]}]}
INFO 2018-05-10 00:19:53,374 [views.py post 46]: Llega Page
INFO 2018-05-10 00:19:53,374 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:19:53,374 [views.py check_session 329]: Consultando Sesión...
INFO 2018-05-10 00:19:53,374 [views.py check_session 330]: 1679689618770152
DEBUG 2018-05-10 00:19:53,374 [views.py check_session 334]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:19:53.374317' and date_finish_session > '2018-05-10 00:19:53.374317'
INFO 2018-05-10 00:19:53,375 [views.py check_session 339]: No existía una sesión del usuario, configurando la sesión...
DEBUG 2018-05-10 00:19:53,376 [views.py check_session 345]: insert into temp_session (id_user_session, date_finish_session) values ('1679689618770152', '2018-05-10 00:29:53.376938')
INFO 2018-05-10 00:19:53,492 [views.py check_session 348]: ()
INFO 2018-05-10 00:19:53,493 [views.py save_chat 301]: Agregando información al chat...
INFO 2018-05-10 00:19:53,493 [views.py save_chat 302]: start
INFO 2018-05-10 00:19:53,493 [views.py check_session 329]: Consultando Sesión...
INFO 2018-05-10 00:19:53,493 [views.py check_session 330]: 1679689618770152
DEBUG 2018-05-10 00:19:53,493 [views.py check_session 334]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:19:53.493394' and date_finish_session > '2018-05-10 00:19:53.493394'
INFO 2018-05-10 00:19:53,494 [views.py check_session 352]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:19:53,494 [views.py check_session 357]: update session set date_finish_session = '2018-05-10 00:29:53.494559' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:19:53,526 [views.py check_session 360]: ()
INFO 2018-05-10 00:19:53,526 [views.py save_chat 305]: 200
INFO 2018-05-10 00:19:53,526 [views.py save_chat 306]: start
INFO 2018-05-10 00:19:53,526 [views.py save_chat 307]: True
DEBUG 2018-05-10 00:19:53,559 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:19:53,559 [views.py classify_postback 136]: Clasificando Postback
INFO 2018-05-10 00:19:53,559 [views.py classify_postback 137]: start
INFO 2018-05-10 00:19:53,559 [views.py get_init_message_db 208]: Consultando mensajes
INFO 2018-05-10 00:19:53,559 [views.py get_init_message_db 209]: Mensajes Iniciales
INFO 2018-05-10 00:19:53,560 [views.py get_init_message_db 210]: None
INFO 2018-05-10 00:19:53,560 [views.py get_init_message_db 211]: None
INFO 2018-05-10 00:19:53,560 [views.py get_init_message_db 212]: True
INFO 2018-05-10 00:19:53,560 [views.py get_init_message_db 213]: False
INFO 2018-05-10 00:19:53,560 [views.py query_fnt 317]: Ejecuta consulta...
INFO 2018-05-10 00:19:53,560 [views.py query_fnt 318]: select id_message, description_message, id_type_message from messages where init_message = 1 and message_status = 1
INFO 2018-05-10 00:19:53,561 [views.py query_fnt 323]: ((1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4), (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2), (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2))
INFO 2018-05-10 00:19:53,561 [views.py get_submessages_button_db 270]: Consulta submenus para opciones
INFO 2018-05-10 00:19:53,561 [views.py get_submessages_button_db 271]: (1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4)
INFO 2018-05-10 00:19:53,561 [views.py query_fnt 317]: Ejecuta consulta...
INFO 2018-05-10 00:19:53,561 [views.py query_fnt 318]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 1 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:19:53,562 [views.py query_fnt 323]: ()
INFO 2018-05-10 00:19:53,562 [views.py get_submessages_button_db 282]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 00:19:53,562 [views.py send_text_message 413]: Tipo de Contenido
INFO 2018-05-10 00:19:53,562 [views.py send_text_message 414]: 4
INFO 2018-05-10 00:19:56,174 [views.py get_submessages_button_db 270]: Consulta submenus para opciones
INFO 2018-05-10 00:19:56,174 [views.py get_submessages_button_db 271]: (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2)
INFO 2018-05-10 00:19:56,174 [views.py query_fnt 317]: Ejecuta consulta...
INFO 2018-05-10 00:19:56,174 [views.py query_fnt 318]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 2 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:19:56,175 [views.py query_fnt 323]: ()
INFO 2018-05-10 00:19:56,175 [views.py get_submessages_button_db 282]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 00:19:56,175 [views.py send_text_message 413]: Tipo de Contenido
INFO 2018-05-10 00:19:56,175 [views.py send_text_message 414]: 2
INFO 2018-05-10 00:19:57,258 [views.py get_submessages_button_db 270]: Consulta submenus para opciones
INFO 2018-05-10 00:19:57,258 [views.py get_submessages_button_db 271]: (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2)
INFO 2018-05-10 00:19:57,258 [views.py query_fnt 317]: Ejecuta consulta...
INFO 2018-05-10 00:19:57,258 [views.py query_fnt 318]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 3 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:19:57,259 [views.py query_fnt 323]: ((4, 'Practicar Idioma 🇨🇴', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (5, 'Ver Histórico 📈', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (6, 'Más Información 📃', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)))
INFO 2018-05-10 00:19:57,259 [views.py get_submessages_button_db 277]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:19:57,259 [views.py send_text_message 413]: Tipo de Contenido
INFO 2018-05-10 00:19:57,260 [views.py send_text_message 414]: 2
INFO 2018-05-10 00:19:58,673 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:20:03,240 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:20:03,240 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525929602971, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929602971, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '4', 'title': 'Practicar Idioma 🇨🇴'}}]}]}
INFO 2018-05-10 00:20:03,241 [views.py post 46]: Llega Page
INFO 2018-05-10 00:20:03,241 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:20:03,241 [views.py check_session 329]: Consultando Sesión...
INFO 2018-05-10 00:20:03,241 [views.py check_session 330]: 1679689618770152
DEBUG 2018-05-10 00:20:03,241 [views.py check_session 334]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:20:03.241371' and date_finish_session > '2018-05-10 00:20:03.241371'
INFO 2018-05-10 00:20:03,243 [views.py check_session 352]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:20:03,243 [views.py check_session 357]: update session set date_finish_session = '2018-05-10 00:30:03.243415' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:20:03,292 [views.py check_session 360]: ()
INFO 2018-05-10 00:20:03,292 [views.py save_chat 301]: Agregando información al chat...
INFO 2018-05-10 00:20:03,292 [views.py save_chat 302]: 4
INFO 2018-05-10 00:20:03,292 [views.py check_session 329]: Consultando Sesión...
INFO 2018-05-10 00:20:03,292 [views.py check_session 330]: 1679689618770152
DEBUG 2018-05-10 00:20:03,292 [views.py check_session 334]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:20:03.292850' and date_finish_session > '2018-05-10 00:20:03.292850'
INFO 2018-05-10 00:20:03,293 [views.py check_session 352]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:20:03,294 [views.py check_session 357]: update session set date_finish_session = '2018-05-10 00:30:03.294008' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:20:03,325 [views.py check_session 360]: ()
INFO 2018-05-10 00:20:03,326 [views.py save_chat 305]: 200
INFO 2018-05-10 00:20:03,326 [views.py save_chat 306]: 4
INFO 2018-05-10 00:20:03,326 [views.py save_chat 307]: True
DEBUG 2018-05-10 00:20:03,359 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:20:03,359 [views.py classify_postback 136]: Clasificando Postback
INFO 2018-05-10 00:20:03,359 [views.py classify_postback 137]: 4
INFO 2018-05-10 00:20:03,359 [views.py get_init_message_db 208]: Consultando mensajes
INFO 2018-05-10 00:20:03,359 [views.py get_init_message_db 209]: Mensajes Iniciales
INFO 2018-05-10 00:20:03,359 [views.py get_init_message_db 210]: 4
INFO 2018-05-10 00:20:03,359 [views.py get_init_message_db 211]: None
INFO 2018-05-10 00:20:03,359 [views.py get_init_message_db 212]: False
INFO 2018-05-10 00:20:03,359 [views.py get_init_message_db 213]: False
INFO 2018-05-10 00:20:03,359 [views.py query_fnt 317]: Ejecuta consulta...
INFO 2018-05-10 00:20:03,359 [views.py query_fnt 318]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 4 and mr.relation_status = 1
INFO 2018-05-10 00:20:03,360 [views.py query_fnt 323]: ((7, 'A continuación debes seleccionar en que forma deseas practicar el idioma:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 8, 7), datetime.datetime(2018, 4, 29, 22, 8, 7)),)
INFO 2018-05-10 00:20:03,361 [views.py get_submessages_button_db 270]: Consulta submenus para opciones
INFO 2018-05-10 00:20:03,361 [views.py get_submessages_button_db 271]: (7, 'A continuación debes seleccionar en que forma deseas practicar el idioma:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 8, 7), datetime.datetime(2018, 4, 29, 22, 8, 7))
INFO 2018-05-10 00:20:03,361 [views.py query_fnt 317]: Ejecuta consulta...
INFO 2018-05-10 00:20:03,361 [views.py query_fnt 318]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 7 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:20:03,362 [views.py query_fnt 323]: ((8, 'Audio 🔊', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 11, 26), datetime.datetime(2018, 4, 29, 22, 11, 26)), (10, '🎙Audio y Texto 🗒', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 11, 26), datetime.datetime(2018, 4, 29, 22, 11, 26)))
INFO 2018-05-10 00:20:03,362 [views.py get_submessages_button_db 277]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:20:03,362 [views.py send_text_message 413]: Tipo de Contenido
INFO 2018-05-10 00:20:03,362 [views.py send_text_message 414]: 2
INFO 2018-05-10 00:20:04,912 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:20:07,296 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:20:07,296 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525929606585, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929606585, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '8', 'title': 'Audio 🔊'}}]}]}
INFO 2018-05-10 00:20:07,296 [views.py post 46]: Llega Page
INFO 2018-05-10 00:20:07,296 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:20:07,296 [views.py check_session 329]: Consultando Sesión...
INFO 2018-05-10 00:20:07,296 [views.py check_session 330]: 1679689618770152
DEBUG 2018-05-10 00:20:07,296 [views.py check_session 334]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:20:07.296765' and date_finish_session > '2018-05-10 00:20:07.296765'
INFO 2018-05-10 00:20:07,298 [views.py check_session 352]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:20:07,299 [views.py check_session 357]: update session set date_finish_session = '2018-05-10 00:30:07.299056' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:20:07,621 [views.py check_session 360]: ()
INFO 2018-05-10 00:20:07,622 [views.py save_chat 301]: Agregando información al chat...
INFO 2018-05-10 00:20:07,622 [views.py save_chat 302]: 8
INFO 2018-05-10 00:20:07,622 [views.py check_session 329]: Consultando Sesión...
INFO 2018-05-10 00:20:07,622 [views.py check_session 330]: 1679689618770152
DEBUG 2018-05-10 00:20:07,622 [views.py check_session 334]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:20:07.622678' and date_finish_session > '2018-05-10 00:20:07.622678'
INFO 2018-05-10 00:20:07,623 [views.py check_session 352]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:20:07,623 [views.py check_session 357]: update session set date_finish_session = '2018-05-10 00:30:07.623859' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:20:07,666 [views.py check_session 360]: ()
INFO 2018-05-10 00:20:07,666 [views.py save_chat 305]: 200
INFO 2018-05-10 00:20:07,666 [views.py save_chat 306]: 8
INFO 2018-05-10 00:20:07,666 [views.py save_chat 307]: True
DEBUG 2018-05-10 00:20:07,699 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:20:07,700 [views.py classify_postback 136]: Clasificando Postback
INFO 2018-05-10 00:20:07,700 [views.py classify_postback 137]: 8
INFO 2018-05-10 00:20:07,700 [views.py save_user_selection 291]: Guardando Info del chat del usuario...
INFO 2018-05-10 00:20:07,700 [views.py save_user_selection 292]: 8
INFO 2018-05-10 00:20:07,700 [views.py get_init_message_db 208]: Consultando mensajes
INFO 2018-05-10 00:20:07,700 [views.py get_init_message_db 209]: Mensajes Iniciales
INFO 2018-05-10 00:20:07,700 [views.py get_init_message_db 210]: 8
INFO 2018-05-10 00:20:07,700 [views.py get_init_message_db 211]: None
INFO 2018-05-10 00:20:07,700 [views.py get_init_message_db 212]: False
INFO 2018-05-10 00:20:07,701 [views.py get_init_message_db 213]: False
INFO 2018-05-10 00:20:07,701 [views.py query_fnt 317]: Ejecuta consulta...
INFO 2018-05-10 00:20:07,701 [views.py query_fnt 318]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 8 and mr.relation_status = 1
INFO 2018-05-10 00:20:07,701 [views.py query_fnt 323]: ((11, 'Las situaciones que puedes practicar son las siguientes:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)),)
INFO 2018-05-10 00:20:07,702 [views.py get_submessages_button_db 270]: Consulta submenus para opciones
INFO 2018-05-10 00:20:07,702 [views.py get_submessages_button_db 271]: (11, 'Las situaciones que puedes practicar son las siguientes:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4))
INFO 2018-05-10 00:20:07,702 [views.py query_fnt 317]: Ejecuta consulta...
INFO 2018-05-10 00:20:07,702 [views.py query_fnt 318]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 11 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:20:07,703 [views.py query_fnt 323]: ((12, 'Cine 🎞', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (13, 'Restaurante 🍽', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (14, 'La ciudad 🏢', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)))
INFO 2018-05-10 00:20:07,703 [views.py get_submessages_button_db 277]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:20:07,703 [views.py send_text_message 413]: Tipo de Contenido
INFO 2018-05-10 00:20:07,703 [views.py send_text_message 414]: 2
INFO 2018-05-10 00:20:09,384 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:20:11,833 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:20:11,833 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525929611578, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929611578, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '14', 'title': 'La ciudad 🏢'}}]}]}
INFO 2018-05-10 00:20:11,834 [views.py post 46]: Llega Page
INFO 2018-05-10 00:20:11,834 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:20:11,834 [views.py check_session 329]: Consultando Sesión...
INFO 2018-05-10 00:20:11,834 [views.py check_session 330]: 1679689618770152
DEBUG 2018-05-10 00:20:11,834 [views.py check_session 334]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:20:11.834332' and date_finish_session > '2018-05-10 00:20:11.834332'
INFO 2018-05-10 00:20:11,835 [views.py check_session 352]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:20:11,836 [views.py check_session 357]: update session set date_finish_session = '2018-05-10 00:30:11.836164' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:20:11,883 [views.py check_session 360]: ()
INFO 2018-05-10 00:20:11,884 [views.py save_chat 301]: Agregando información al chat...
INFO 2018-05-10 00:20:11,884 [views.py save_chat 302]: 14
INFO 2018-05-10 00:20:11,884 [views.py check_session 329]: Consultando Sesión...
INFO 2018-05-10 00:20:11,884 [views.py check_session 330]: 1679689618770152
DEBUG 2018-05-10 00:20:11,884 [views.py check_session 334]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:20:11.884498' and date_finish_session > '2018-05-10 00:20:11.884498'
INFO 2018-05-10 00:20:11,885 [views.py check_session 352]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:20:11,885 [views.py check_session 357]: update session set date_finish_session = '2018-05-10 00:30:11.885613' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:20:11,917 [views.py check_session 360]: ()
INFO 2018-05-10 00:20:11,917 [views.py save_chat 305]: 200
INFO 2018-05-10 00:20:11,917 [views.py save_chat 306]: 14
INFO 2018-05-10 00:20:11,917 [views.py save_chat 307]: True
DEBUG 2018-05-10 00:20:11,950 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:20:11,950 [views.py classify_postback 136]: Clasificando Postback
INFO 2018-05-10 00:20:11,951 [views.py classify_postback 137]: 14
DEBUG 2018-05-10 00:20:11,951 [views.py classify_postback 156]: Situación...
INFO 2018-05-10 00:20:11,951 [views.py get_init_message_db 208]: Consultando mensajes
INFO 2018-05-10 00:20:11,951 [views.py get_init_message_db 209]: Mensajes Iniciales
INFO 2018-05-10 00:20:11,951 [views.py get_init_message_db 210]: 14
INFO 2018-05-10 00:20:11,951 [views.py get_init_message_db 211]: None
INFO 2018-05-10 00:20:11,951 [views.py get_init_message_db 212]: False
INFO 2018-05-10 00:20:11,951 [views.py get_init_message_db 213]: True
INFO 2018-05-10 00:20:11,951 [views.py get_init_message_db 221]: Situation...
INFO 2018-05-10 00:20:11,952 [views.py get_init_message_db 222]: 8
DEBUG 2018-05-10 00:20:11,952 [views.py get_file_audio 83]: /var/www/html/python/epaes/epaesproject/static/audios/situations/
INFO 2018-05-10 00:20:11,953 [views.py get_init_message_db 254]: Enviando audio...
INFO 2018-05-10 00:20:11,953 [views.py get_init_message_db 255]: /static/audios/situations/audioci3.flac
DEBUG 2018-05-10 00:20:11,953 [views.py get_init_message_db 256]: /var/www/html/python/epaes/epaesproject/static/audios/situations/audioci3.flac
DEBUG 2018-05-10 00:20:11,953 [views.py convert_audio 516]: /var/www/html/python/epaes/epaesproject/static/audios/situations/audioci3.flac
INFO 2018-05-10 00:20:13,196 [views.py get_init_message_db 258]: Texto Audio Enviado...
INFO 2018-05-10 00:20:13,196 [views.py get_init_message_db 259]: En qué sala se presenta esta película
INFO 2018-05-10 00:20:13,197 [views.py send_text_message 413]: Tipo de Contenido
INFO 2018-05-10 00:20:13,197 [views.py send_text_message 414]: 3
INFO 2018-05-10 00:20:16,457 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:21:06,021 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:21:06,022 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525929665777, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929665492, 'message': {'mid': 'mid.$cAAcCjiE_CkNpecQr1FjSH7a-pINl', 'seq': 37837, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31425073_10216230533935980_7419710510993506304_n.mp4/audioclip-1525929664000-1536.mp4?_nc_cat=0&oh=6c5271136f77cc25b40c79f03a828151&oe=5AF5AE0D'}}]}}]}]}
INFO 2018-05-10 00:21:06,022 [views.py post 46]: Llega Page
INFO 2018-05-10 00:21:06,022 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:21:06,022 [views.py check_session 329]: Consultando Sesión...
INFO 2018-05-10 00:21:06,022 [views.py check_session 330]: 1679689618770152
DEBUG 2018-05-10 00:21:06,022 [views.py check_session 334]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:21:06.022623' and date_finish_session > '2018-05-10 00:21:06.022623'
INFO 2018-05-10 00:21:06,024 [views.py check_session 352]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:21:06,024 [views.py check_session 357]: update session set date_finish_session = '2018-05-10 00:31:06.024635' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:21:06,078 [views.py check_session 360]: ()
DEBUG 2018-05-10 00:21:06,078 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:21:06,078 [views.py classify_message 164]: Clasificando Mensaje
INFO 2018-05-10 00:21:06,079 [views.py classify_message 165]: {'mid': 'mid.$cAAcCjiE_CkNpecQr1FjSH7a-pINl', 'seq': 37837, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31425073_10216230533935980_7419710510993506304_n.mp4/audioclip-1525929664000-1536.mp4?_nc_cat=0&oh=6c5271136f77cc25b40c79f03a828151&oe=5AF5AE0D'}}]}
INFO 2018-05-10 00:21:06,079 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:21:06,079 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:21:06,079 [views.py classify_message 176]: Audio
INFO 2018-05-10 00:21:06,079 [views.py classify_message 177]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31425073_10216230533935980_7419710510993506304_n.mp4/audioclip-1525929664000-1536.mp4?_nc_cat=0&oh=6c5271136f77cc25b40c79f03a828151&oe=5AF5AE0D'}}
INFO 2018-05-10 00:21:06,079 [views.py send_text_message 413]: Tipo de Contenido
INFO 2018-05-10 00:21:06,079 [views.py send_text_message 414]: 2
INFO 2018-05-10 00:21:07,811 [views.py process_audio 499]: 1679689618770152_1525929667.395342
DEBUG 2018-05-10 00:21:09,138 [views.py convert_audio 516]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525929667.395342.flac
INFO 2018-05-10 00:21:09,747 [views.py send_text_message 413]: Tipo de Contenido
INFO 2018-05-10 00:21:09,748 [views.py send_text_message 414]: 2
DEBUG 2018-05-10 00:21:10,790 [views.py similar 122]: Primero: En qué sala se presenta esta película
DEBUG 2018-05-10 00:21:10,791 [views.py similar 123]: Segundo: Hola
INFO 2018-05-10 00:21:10,791 [views.py send_text_message 413]: Tipo de Contenido
INFO 2018-05-10 00:21:10,791 [views.py send_text_message 414]: 2
INFO 2018-05-10 00:21:11,849 [views.py send_text_message 413]: Tipo de Contenido
INFO 2018-05-10 00:21:11,850 [views.py send_text_message 414]: 2
INFO 2018-05-10 00:21:12,878 [views.py send_text_message 413]: Tipo de Contenido
INFO 2018-05-10 00:21:12,878 [views.py send_text_message 414]: 3
INFO 2018-05-10 00:21:16,124 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:26:35,570 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:26:35,570 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525929995355, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929995148, 'message': {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}}]}]}
INFO 2018-05-10 00:26:35,570 [views.py post 46]: Llega Page
INFO 2018-05-10 00:26:35,570 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:26:35,570 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:26:35,570 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:26:35,570 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:26:35.570893' and date_finish_session > '2018-05-10 00:26:35.570893'
INFO 2018-05-10 00:26:35,573 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:26:35,573 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:36:35.573503' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:26:35,638 [views.py check_session 366]: ()
DEBUG 2018-05-10 00:26:35,638 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:26:35,638 [views.py classify_message 164]: Clasificando Mensaje
INFO 2018-05-10 00:26:35,638 [views.py classify_message 165]: {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}
INFO 2018-05-10 00:26:35,639 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:26:35,639 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:26:35,639 [views.py classify_message 176]: Audio
INFO 2018-05-10 00:26:35,639 [views.py classify_message 177]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}
INFO 2018-05-10 00:26:35,639 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:26:35,639 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:26:37,036 [views.py process_audio 505]: 1679689618770152_1525929996.688467
DEBUG 2018-05-10 00:26:37,415 [views.py convert_audio 522]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525929996.688467.flac
INFO 2018-05-10 00:26:38,684 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:26:38,684 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525929998476, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929995148, 'message': {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}}]}]}
INFO 2018-05-10 00:26:38,684 [views.py post 46]: Llega Page
INFO 2018-05-10 00:26:38,685 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:26:38,685 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:26:38,685 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:26:38,685 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:26:38.685401' and date_finish_session > '2018-05-10 00:26:38.685401'
INFO 2018-05-10 00:26:38,687 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:26:38,687 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:36:38.687671' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:26:38,735 [views.py check_session 366]: ()
DEBUG 2018-05-10 00:26:38,735 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:26:38,735 [views.py classify_message 164]: Clasificando Mensaje
INFO 2018-05-10 00:26:38,736 [views.py classify_message 165]: {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}
INFO 2018-05-10 00:26:38,736 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:26:38,736 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:26:38,736 [views.py classify_message 176]: Audio
INFO 2018-05-10 00:26:38,736 [views.py classify_message 177]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}
INFO 2018-05-10 00:26:38,736 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:26:38,736 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:26:40,537 [views.py process_audio 505]: 1679689618770152_1525930000.242427
DEBUG 2018-05-10 00:26:40,590 [views.py convert_audio 522]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525930000.242427.flac
INFO 2018-05-10 00:26:41,759 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:26:41,759 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930001476, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929995148, 'message': {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}}]}]}
INFO 2018-05-10 00:26:41,759 [views.py post 46]: Llega Page
INFO 2018-05-10 00:26:41,759 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:26:41,760 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:26:41,760 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:26:41,760 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:26:41.760227' and date_finish_session > '2018-05-10 00:26:41.760227'
INFO 2018-05-10 00:26:41,761 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:26:41,762 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:36:41.762191' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:26:41,799 [views.py check_session 366]: ()
DEBUG 2018-05-10 00:26:41,799 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:26:41,799 [views.py classify_message 164]: Clasificando Mensaje
INFO 2018-05-10 00:26:41,799 [views.py classify_message 165]: {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}
INFO 2018-05-10 00:26:41,800 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:26:41,800 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:26:41,800 [views.py classify_message 176]: Audio
INFO 2018-05-10 00:26:41,800 [views.py classify_message 177]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}
INFO 2018-05-10 00:26:41,800 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:26:41,800 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:26:42,985 [views.py process_audio 505]: 1679689618770152_1525930002.849528
DEBUG 2018-05-10 00:26:43,042 [views.py convert_audio 522]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525930002.849528.flac
INFO 2018-05-10 00:26:44,107 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:26:44,107 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930003897, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929995148, 'message': {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}}]}]}
INFO 2018-05-10 00:26:44,107 [views.py post 46]: Llega Page
INFO 2018-05-10 00:26:44,107 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:26:44,107 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:26:44,108 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:26:44,108 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:26:44.108119' and date_finish_session > '2018-05-10 00:26:44.108119'
INFO 2018-05-10 00:26:44,109 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:26:44,110 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:36:44.110246' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:26:44,141 [views.py check_session 366]: ()
DEBUG 2018-05-10 00:26:44,141 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:26:44,141 [views.py classify_message 164]: Clasificando Mensaje
INFO 2018-05-10 00:26:44,141 [views.py classify_message 165]: {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}
INFO 2018-05-10 00:26:44,141 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:26:44,142 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:26:44,142 [views.py classify_message 176]: Audio
INFO 2018-05-10 00:26:44,142 [views.py classify_message 177]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}
INFO 2018-05-10 00:26:44,142 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:26:44,142 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:26:45,738 [views.py process_audio 505]: 1679689618770152_1525930005.468319
DEBUG 2018-05-10 00:26:45,792 [views.py convert_audio 522]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525930005.468319.flac
INFO 2018-05-10 00:26:47,478 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:26:47,478 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930007292, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929995148, 'message': {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}}]}]}
INFO 2018-05-10 00:26:47,478 [views.py post 46]: Llega Page
INFO 2018-05-10 00:26:47,478 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:26:47,478 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:26:47,478 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:26:47,479 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:26:47.479076' and date_finish_session > '2018-05-10 00:26:47.479076'
INFO 2018-05-10 00:26:47,481 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:26:47,482 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:36:47.482343' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:26:47,528 [views.py check_session 366]: ()
DEBUG 2018-05-10 00:26:47,529 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:26:47,529 [views.py classify_message 164]: Clasificando Mensaje
INFO 2018-05-10 00:26:47,529 [views.py classify_message 165]: {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}
INFO 2018-05-10 00:26:47,530 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:26:47,530 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:26:47,530 [views.py classify_message 176]: Audio
INFO 2018-05-10 00:26:47,530 [views.py classify_message 177]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}
INFO 2018-05-10 00:26:47,530 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:26:47,530 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:26:49,223 [views.py process_audio 505]: 1679689618770152_1525930008.602338
DEBUG 2018-05-10 00:26:49,275 [views.py convert_audio 522]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525930008.602338.flac
INFO 2018-05-10 00:26:53,826 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:26:53,826 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930013620, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929995148, 'message': {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}}]}]}
INFO 2018-05-10 00:26:53,827 [views.py post 46]: Llega Page
INFO 2018-05-10 00:26:53,827 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:26:53,827 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:26:53,827 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:26:53,827 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:26:53.827658' and date_finish_session > '2018-05-10 00:26:53.827658'
INFO 2018-05-10 00:26:53,829 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:26:53,829 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:36:53.829620' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:26:54,375 [views.py check_session 366]: ()
DEBUG 2018-05-10 00:26:54,376 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:26:54,376 [views.py classify_message 164]: Clasificando Mensaje
INFO 2018-05-10 00:26:54,376 [views.py classify_message 165]: {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}
INFO 2018-05-10 00:26:54,377 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:26:54,377 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:26:54,377 [views.py classify_message 176]: Audio
INFO 2018-05-10 00:26:54,377 [views.py classify_message 177]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}
INFO 2018-05-10 00:26:54,377 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:26:54,377 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:26:55,815 [views.py process_audio 505]: 1679689618770152_1525930015.552796
DEBUG 2018-05-10 00:26:55,871 [views.py convert_audio 522]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525930015.552796.flac
INFO 2018-05-10 00:27:14,308 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:27:14,308 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930033996, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929995148, 'message': {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}}]}]}
INFO 2018-05-10 00:27:14,308 [views.py post 46]: Llega Page
INFO 2018-05-10 00:27:14,308 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:27:14,309 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:27:14,309 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:27:14,309 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:27:14.309192' and date_finish_session > '2018-05-10 00:27:14.309192'
INFO 2018-05-10 00:27:14,311 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:27:14,311 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:37:14.311538' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:27:14,531 [views.py check_session 366]: ()
DEBUG 2018-05-10 00:27:14,532 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:27:14,532 [views.py classify_message 164]: Clasificando Mensaje
INFO 2018-05-10 00:27:14,532 [views.py classify_message 165]: {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}
INFO 2018-05-10 00:27:14,532 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:27:14,532 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:27:14,532 [views.py classify_message 176]: Audio
INFO 2018-05-10 00:27:14,532 [views.py classify_message 177]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}
INFO 2018-05-10 00:27:14,533 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:27:14,533 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:27:15,786 [views.py process_audio 505]: 1679689618770152_1525930035.572234
DEBUG 2018-05-10 00:27:15,865 [views.py convert_audio 522]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525930035.572234.flac
INFO 2018-05-10 00:28:19,589 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:28:19,589 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930099208, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930099208, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '-500', 'title': 'Volver al menú anterior'}}]}]}
INFO 2018-05-10 00:28:19,589 [views.py post 46]: Llega Page
INFO 2018-05-10 00:28:19,589 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:28:19,589 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:28:19,589 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:28:19,589 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:28:19.589835' and date_finish_session > '2018-05-10 00:28:19.589835'
INFO 2018-05-10 00:28:19,592 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:28:19,592 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:38:19.592289' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:28:19,631 [views.py check_session 366]: ()
INFO 2018-05-10 00:28:19,632 [views.py save_chat 307]: Agregando información al chat...
INFO 2018-05-10 00:28:19,632 [views.py save_chat 308]: -500
INFO 2018-05-10 00:28:19,632 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:28:19,632 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:28:19,632 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:28:19.632442' and date_finish_session > '2018-05-10 00:28:19.632442'
INFO 2018-05-10 00:28:19,633 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:28:19,633 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:38:19.633617' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:28:19,666 [views.py check_session 366]: ()
INFO 2018-05-10 00:28:19,666 [views.py save_chat 311]: 200
INFO 2018-05-10 00:28:19,666 [views.py save_chat 312]: -500
INFO 2018-05-10 00:28:19,666 [views.py save_chat 313]: True
DEBUG 2018-05-10 00:28:19,877 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:28:19,877 [views.py classify_postback 136]: Clasificando Postback
INFO 2018-05-10 00:28:19,877 [views.py classify_postback 137]: -500
INFO 2018-05-10 00:28:19,877 [views.py classify_postback 151]: Volver al menú anterior
INFO 2018-05-10 00:28:19,878 [views.py classify_postback 152]: 11
INFO 2018-05-10 00:28:19,878 [views.py get_init_message_db 214]: Consultando mensajes
INFO 2018-05-10 00:28:19,878 [views.py get_init_message_db 215]: Mensajes Iniciales
INFO 2018-05-10 00:28:19,878 [views.py get_init_message_db 216]: 11
INFO 2018-05-10 00:28:19,878 [views.py get_init_message_db 217]: None
INFO 2018-05-10 00:28:19,878 [views.py get_init_message_db 218]: False
INFO 2018-05-10 00:28:19,878 [views.py get_init_message_db 219]: False
INFO 2018-05-10 00:28:19,879 [views.py query_fnt 323]: Ejecuta consulta...
INFO 2018-05-10 00:28:19,879 [views.py query_fnt 324]: select m.* from messages as m inner join messages_relations as mr on m.id_message = mr.message_parent where mr.message_child in (select m.id_message from messages as m inner join messages_relations as mr on m.id_message = mr.message_parent where mr.message_child = 11) limit 1;
INFO 2018-05-10 00:28:20,148 [views.py query_fnt 329]: ((7, 'A continuación debes seleccionar en que forma deseas practicar el idioma:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 8, 7), datetime.datetime(2018, 4, 29, 22, 8, 7)),)
INFO 2018-05-10 00:28:20,148 [views.py get_submessages_button_db 276]: Consulta submenus para opciones
INFO 2018-05-10 00:28:20,148 [views.py get_submessages_button_db 277]: (7, 'A continuación debes seleccionar en que forma deseas practicar el idioma:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 8, 7), datetime.datetime(2018, 4, 29, 22, 8, 7))
INFO 2018-05-10 00:28:20,148 [views.py query_fnt 323]: Ejecuta consulta...
INFO 2018-05-10 00:28:20,149 [views.py query_fnt 324]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 7 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:28:20,149 [views.py query_fnt 329]: ((8, 'Audio 🔊', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 11, 26), datetime.datetime(2018, 4, 29, 22, 11, 26)), (10, '🎙Audio y Texto 🗒', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 11, 26), datetime.datetime(2018, 4, 29, 22, 11, 26)))
INFO 2018-05-10 00:28:20,150 [views.py get_submessages_button_db 283]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:28:20,150 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:28:20,150 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:28:21,477 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:28:23,967 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:28:23,967 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930103743, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930103743, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '8', 'title': 'Audio 🔊'}}]}]}
INFO 2018-05-10 00:28:23,967 [views.py post 46]: Llega Page
INFO 2018-05-10 00:28:23,968 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:28:23,968 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:28:23,968 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:28:23,968 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:28:23.968289' and date_finish_session > '2018-05-10 00:28:23.968289'
INFO 2018-05-10 00:28:23,969 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:28:23,970 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:38:23.970188' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:28:24,017 [views.py check_session 366]: ()
INFO 2018-05-10 00:28:24,017 [views.py save_chat 307]: Agregando información al chat...
INFO 2018-05-10 00:28:24,017 [views.py save_chat 308]: 8
INFO 2018-05-10 00:28:24,017 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:28:24,017 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:28:24,017 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:28:24.017884' and date_finish_session > '2018-05-10 00:28:24.017884'
INFO 2018-05-10 00:28:24,018 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:28:24,019 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:38:24.019159' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:28:24,050 [views.py check_session 366]: ()
INFO 2018-05-10 00:28:24,050 [views.py save_chat 311]: 200
INFO 2018-05-10 00:28:24,050 [views.py save_chat 312]: 8
INFO 2018-05-10 00:28:24,050 [views.py save_chat 313]: True
DEBUG 2018-05-10 00:28:24,084 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:28:24,084 [views.py classify_postback 136]: Clasificando Postback
INFO 2018-05-10 00:28:24,084 [views.py classify_postback 137]: 8
INFO 2018-05-10 00:28:24,084 [views.py save_user_selection 297]: Guardando Info del chat del usuario...
INFO 2018-05-10 00:28:24,084 [views.py save_user_selection 298]: 8
INFO 2018-05-10 00:28:24,084 [views.py get_init_message_db 214]: Consultando mensajes
INFO 2018-05-10 00:28:24,085 [views.py get_init_message_db 215]: Mensajes Iniciales
INFO 2018-05-10 00:28:24,085 [views.py get_init_message_db 216]: 8
INFO 2018-05-10 00:28:24,085 [views.py get_init_message_db 217]: None
INFO 2018-05-10 00:28:24,085 [views.py get_init_message_db 218]: False
INFO 2018-05-10 00:28:24,085 [views.py get_init_message_db 219]: False
INFO 2018-05-10 00:28:24,085 [views.py query_fnt 323]: Ejecuta consulta...
INFO 2018-05-10 00:28:24,085 [views.py query_fnt 324]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 8 and mr.relation_status = 1
INFO 2018-05-10 00:28:24,086 [views.py query_fnt 329]: ((11, 'Las situaciones que puedes practicar son las siguientes:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)),)
INFO 2018-05-10 00:28:24,086 [views.py get_submessages_button_db 276]: Consulta submenus para opciones
INFO 2018-05-10 00:28:24,086 [views.py get_submessages_button_db 277]: (11, 'Las situaciones que puedes practicar son las siguientes:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4))
INFO 2018-05-10 00:28:24,086 [views.py query_fnt 323]: Ejecuta consulta...
INFO 2018-05-10 00:28:24,086 [views.py query_fnt 324]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 11 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:28:24,087 [views.py query_fnt 329]: ((12, 'Cine 🎞', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (13, 'Restaurante 🍽', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (14, 'La ciudad 🏢', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)))
INFO 2018-05-10 00:28:24,087 [views.py get_submessages_button_db 283]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:28:24,087 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:28:24,088 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:28:25,611 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:28:28,060 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:28:28,060 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930107888, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929995148, 'message': {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}}]}]}
INFO 2018-05-10 00:28:28,060 [views.py post 46]: Llega Page
INFO 2018-05-10 00:28:28,060 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:28:28,060 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:28:28,060 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:28:28,060 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:28:28.060808' and date_finish_session > '2018-05-10 00:28:28.060808'
INFO 2018-05-10 00:28:28,062 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:28:28,062 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:38:28.062835' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:28:28,111 [views.py check_session 366]: ()
DEBUG 2018-05-10 00:28:28,112 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:28:28,112 [views.py classify_message 164]: Clasificando Mensaje
INFO 2018-05-10 00:28:28,112 [views.py classify_message 165]: {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}
INFO 2018-05-10 00:28:28,112 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:28:28,112 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:28:28,112 [views.py classify_message 176]: Audio
INFO 2018-05-10 00:28:28,113 [views.py classify_message 177]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}
INFO 2018-05-10 00:28:28,113 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:28:28,113 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:28:28,398 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:28:28,398 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930108055, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930108055, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '13', 'title': 'Restaurante 🍽'}}]}]}
INFO 2018-05-10 00:28:28,398 [views.py post 46]: Llega Page
INFO 2018-05-10 00:28:28,398 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:28:28,398 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:28:28,398 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:28:28,399 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:28:28.398980' and date_finish_session > '2018-05-10 00:28:28.398980'
INFO 2018-05-10 00:28:28,400 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:28:28,401 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:38:28.401056' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:28:28,433 [views.py check_session 366]: ()
INFO 2018-05-10 00:28:28,434 [views.py save_chat 307]: Agregando información al chat...
INFO 2018-05-10 00:28:28,434 [views.py save_chat 308]: 13
INFO 2018-05-10 00:28:28,434 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:28:28,434 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:28:28,434 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:28:28.434388' and date_finish_session > '2018-05-10 00:28:28.434388'
INFO 2018-05-10 00:28:28,435 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:28:28,435 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:38:28.435416' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:28:28,467 [views.py check_session 366]: ()
INFO 2018-05-10 00:28:28,467 [views.py save_chat 311]: 200
INFO 2018-05-10 00:28:28,467 [views.py save_chat 312]: 13
INFO 2018-05-10 00:28:28,467 [views.py save_chat 313]: True
DEBUG 2018-05-10 00:28:28,500 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:28:28,500 [views.py classify_postback 136]: Clasificando Postback
INFO 2018-05-10 00:28:28,500 [views.py classify_postback 137]: 13
DEBUG 2018-05-10 00:28:28,501 [views.py classify_postback 156]: Situación...
INFO 2018-05-10 00:28:28,501 [views.py get_init_message_db 214]: Consultando mensajes
INFO 2018-05-10 00:28:28,501 [views.py get_init_message_db 215]: Mensajes Iniciales
INFO 2018-05-10 00:28:28,501 [views.py get_init_message_db 216]: 13
INFO 2018-05-10 00:28:28,501 [views.py get_init_message_db 217]: None
INFO 2018-05-10 00:28:28,501 [views.py get_init_message_db 218]: False
INFO 2018-05-10 00:28:28,501 [views.py get_init_message_db 219]: True
INFO 2018-05-10 00:28:28,501 [views.py get_init_message_db 227]: Situation...
INFO 2018-05-10 00:28:28,502 [views.py get_init_message_db 228]: 8
DEBUG 2018-05-10 00:28:28,502 [views.py get_file_audio 83]: /var/www/html/python/epaes/epaesproject/static/audios/situations/
INFO 2018-05-10 00:28:28,502 [views.py get_init_message_db 260]: Enviando audio...
INFO 2018-05-10 00:28:28,502 [views.py get_init_message_db 261]: /static/audios/situations/audior17.flac
DEBUG 2018-05-10 00:28:28,503 [views.py get_init_message_db 262]: /var/www/html/python/epaes/epaesproject/static/audios/situations/audior17.flac
DEBUG 2018-05-10 00:28:28,503 [views.py convert_audio 522]: /var/www/html/python/epaes/epaesproject/static/audios/situations/audior17.flac
INFO 2018-05-10 00:28:29,231 [views.py process_audio 505]: 1679689618770152_1525930109.135751
DEBUG 2018-05-10 00:28:29,284 [views.py convert_audio 522]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525930109.135751.flac
INFO 2018-05-10 00:28:29,721 [views.py get_init_message_db 264]: Texto Audio Enviado...
INFO 2018-05-10 00:28:29,726 [views.py get_init_message_db 265]: me gustaría probar el arroz atollado
INFO 2018-05-10 00:28:29,731 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:28:29,731 [views.py send_text_message 420]: 3
INFO 2018-05-10 00:28:33,645 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:29:49,247 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:29:49,247 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930188988, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929995148, 'message': {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}}]}]}
INFO 2018-05-10 00:29:49,248 [views.py post 46]: Llega Page
INFO 2018-05-10 00:29:49,248 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:29:49,248 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:29:49,248 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:29:49,248 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:29:49.248470' and date_finish_session > '2018-05-10 00:29:49.248470'
INFO 2018-05-10 00:29:49,250 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:29:49,251 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:39:49.251271' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:29:49,328 [views.py check_session 366]: ()
DEBUG 2018-05-10 00:29:49,328 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:29:49,328 [views.py classify_message 164]: Clasificando Mensaje
INFO 2018-05-10 00:29:49,329 [views.py classify_message 165]: {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}
INFO 2018-05-10 00:29:49,329 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:29:49,329 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:29:49,329 [views.py classify_message 176]: Audio
INFO 2018-05-10 00:29:49,329 [views.py classify_message 177]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}
INFO 2018-05-10 00:29:49,329 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:29:49,329 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:29:50,644 [views.py process_audio 505]: 1679689618770152_1525930190.533582
DEBUG 2018-05-10 00:29:50,700 [views.py convert_audio 523]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525930190.533582.flac
ERROR 2018-05-10 00:29:51,089 [views.py convert_audio 530]: Se presentó un error en la conversión del audio.
INFO 2018-05-10 00:29:51,090 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:29:51,090 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:30:45,765 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:30:45,765 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930245449, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930245449, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '12', 'title': 'Cine 🎞'}}]}]}
INFO 2018-05-10 00:30:45,765 [views.py post 46]: Llega Page
INFO 2018-05-10 00:30:45,765 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:30:45,765 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:30:45,765 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:30:45,765 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:30:45.765709' and date_finish_session > '2018-05-10 00:30:45.765709'
INFO 2018-05-10 00:30:45,767 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:30:45,768 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:40:45.768065' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:30:45,825 [views.py check_session 366]: ()
INFO 2018-05-10 00:30:45,826 [views.py save_chat 307]: Agregando información al chat...
INFO 2018-05-10 00:30:45,826 [views.py save_chat 308]: 12
INFO 2018-05-10 00:30:45,826 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:30:45,826 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:30:45,826 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:30:45.826604' and date_finish_session > '2018-05-10 00:30:45.826604'
INFO 2018-05-10 00:30:45,827 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:30:45,827 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:40:45.827679' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:30:45,862 [views.py check_session 366]: ()
INFO 2018-05-10 00:30:45,862 [views.py save_chat 311]: 200
INFO 2018-05-10 00:30:45,862 [views.py save_chat 312]: 12
INFO 2018-05-10 00:30:45,862 [views.py save_chat 313]: True
DEBUG 2018-05-10 00:30:45,895 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:30:45,896 [views.py classify_postback 136]: Clasificando Postback
INFO 2018-05-10 00:30:45,896 [views.py classify_postback 137]: 12
DEBUG 2018-05-10 00:30:45,896 [views.py classify_postback 156]: Situación...
INFO 2018-05-10 00:30:45,896 [views.py get_init_message_db 214]: Consultando mensajes
INFO 2018-05-10 00:30:45,896 [views.py get_init_message_db 215]: Mensajes Iniciales
INFO 2018-05-10 00:30:45,896 [views.py get_init_message_db 216]: 12
INFO 2018-05-10 00:30:45,896 [views.py get_init_message_db 217]: None
INFO 2018-05-10 00:30:45,896 [views.py get_init_message_db 218]: False
INFO 2018-05-10 00:30:45,896 [views.py get_init_message_db 219]: True
INFO 2018-05-10 00:30:45,897 [views.py get_init_message_db 227]: Situation...
INFO 2018-05-10 00:30:45,897 [views.py get_init_message_db 228]: 8
DEBUG 2018-05-10 00:30:45,897 [views.py get_file_audio 83]: /var/www/html/python/epaes/epaesproject/static/audios/situations/
INFO 2018-05-10 00:30:45,898 [views.py get_init_message_db 260]: Enviando audio...
INFO 2018-05-10 00:30:45,898 [views.py get_init_message_db 261]: /static/audios/situations/audioci5.flac
DEBUG 2018-05-10 00:30:45,898 [views.py get_init_message_db 262]: /var/www/html/python/epaes/epaesproject/static/audios/situations/audioci5.flac
DEBUG 2018-05-10 00:30:45,898 [views.py convert_audio 523]: /var/www/html/python/epaes/epaesproject/static/audios/situations/audioci5.flac
INFO 2018-05-10 00:30:47,608 [views.py get_init_message_db 264]: Texto Audio Enviado...
INFO 2018-05-10 00:30:47,608 [views.py get_init_message_db 265]: la película tiene un personaje que es extraterrestre
INFO 2018-05-10 00:30:47,608 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:30:47,609 [views.py send_text_message 420]: 3
INFO 2018-05-10 00:30:51,515 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:31:11,640 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:31:11,640 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930271430, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525929995148, 'message': {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}}]}]}
INFO 2018-05-10 00:31:11,641 [views.py post 46]: Llega Page
INFO 2018-05-10 00:31:11,641 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:31:11,641 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:31:11,641 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:31:11,641 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:31:11.641400' and date_finish_session > '2018-05-10 00:31:11.641400'
INFO 2018-05-10 00:31:11,643 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:31:11,643 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:41:11.643479' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:31:11,698 [views.py check_session 366]: ()
DEBUG 2018-05-10 00:31:11,698 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:31:11,698 [views.py classify_message 164]: Clasificando Mensaje
INFO 2018-05-10 00:31:11,698 [views.py classify_message 165]: {'mid': 'mid.$cAAcCjiE_CkNpeckzjFjSIPjPRQ1r', 'seq': 37848, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}]}
INFO 2018-05-10 00:31:11,699 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:31:11,699 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:31:11,699 [views.py classify_message 176]: Audio
INFO 2018-05-10 00:31:11,699 [views.py classify_message 177]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31463769_10216230549296364_8037301914527858688_n.mp4/audioclip-1525929994000-1536.mp4?_nc_cat=0&oh=b151838e4afb925d7a054aed180fc2d4&oe=5AF6C9B2'}}
INFO 2018-05-10 00:31:11,699 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:31:11,699 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:31:13,719 [views.py process_audio 505]: 1679689618770152_1525930273.345842
DEBUG 2018-05-10 00:31:13,772 [views.py convert_audio 523]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525930273.345842.flac
ERROR 2018-05-10 00:31:14,413 [views.py convert_audio 530]: Se presentó un error en la conversión del audio.
ERROR 2018-05-10 00:31:14,413 [views.py convert_audio 531]: 
INFO 2018-05-10 00:31:14,414 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:31:14,414 [views.py send_text_message 420]: 2
DEBUG 2018-05-10 00:31:15,987 [views.py similar 122]: Primero: la película tiene un personaje que es extraterrestre
DEBUG 2018-05-10 00:31:15,988 [views.py similar 123]: Segundo: 
INFO 2018-05-10 00:31:15,988 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:31:15,988 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:31:17,013 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:31:17,013 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:31:18,634 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:31:18,634 [views.py send_text_message 420]: 3
INFO 2018-05-10 00:31:22,491 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:31:23,539 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:31:23,539 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930283353, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930269533, 'message': {'mid': 'mid.$cAAcCjiE_CkNpec1jXVjSIgTY0vPL', 'seq': 37881, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31966690_10216230576897054_5886632775183761408_n.mp4/audioclip-1525930268000-2432.mp4?_nc_cat=0&oh=0d0b367f582761ab39cd7956d767eab9&oe=5AF6C81D'}}]}}]}]}
INFO 2018-05-10 00:31:23,539 [views.py post 46]: Llega Page
INFO 2018-05-10 00:31:23,540 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:31:23,540 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:31:23,540 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:31:23,540 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:31:23.540249' and date_finish_session > '2018-05-10 00:31:23.540249'
INFO 2018-05-10 00:31:23,541 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:31:23,542 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:41:23.542119' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:31:23,606 [views.py check_session 366]: ()
DEBUG 2018-05-10 00:31:23,607 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:31:23,607 [views.py classify_message 164]: Clasificando Mensaje
INFO 2018-05-10 00:31:23,607 [views.py classify_message 165]: {'mid': 'mid.$cAAcCjiE_CkNpec1jXVjSIgTY0vPL', 'seq': 37881, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31966690_10216230576897054_5886632775183761408_n.mp4/audioclip-1525930268000-2432.mp4?_nc_cat=0&oh=0d0b367f582761ab39cd7956d767eab9&oe=5AF6C81D'}}]}
INFO 2018-05-10 00:31:23,607 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:31:23,608 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:31:23,608 [views.py classify_message 176]: Audio
INFO 2018-05-10 00:31:23,608 [views.py classify_message 177]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31966690_10216230576897054_5886632775183761408_n.mp4/audioclip-1525930268000-2432.mp4?_nc_cat=0&oh=0d0b367f582761ab39cd7956d767eab9&oe=5AF6C81D'}}
INFO 2018-05-10 00:31:23,608 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:31:23,608 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:31:25,428 [views.py process_audio 505]: 1679689618770152_1525930284.621363
DEBUG 2018-05-10 00:31:25,485 [views.py convert_audio 523]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525930284.621363.flac
INFO 2018-05-10 00:31:26,374 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:31:26,375 [views.py send_text_message 420]: 2
DEBUG 2018-05-10 00:31:27,441 [views.py similar 122]: Primero: la película tiene un personaje que es extraterrestre
DEBUG 2018-05-10 00:31:27,441 [views.py similar 123]: Segundo: extraterrestre
INFO 2018-05-10 00:31:27,441 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:31:27,442 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:31:29,161 [views.py get_init_message_db 214]: Consultando mensajes
INFO 2018-05-10 00:31:29,161 [views.py get_init_message_db 215]: Mensajes Iniciales
INFO 2018-05-10 00:31:29,161 [views.py get_init_message_db 216]: None
INFO 2018-05-10 00:31:29,161 [views.py get_init_message_db 217]: b'11'
INFO 2018-05-10 00:31:29,161 [views.py get_init_message_db 218]: False
INFO 2018-05-10 00:31:29,161 [views.py get_init_message_db 219]: False
INFO 2018-05-10 00:31:29,162 [views.py query_fnt 323]: Ejecuta consulta...
INFO 2018-05-10 00:31:29,162 [views.py query_fnt 324]: select id_message, description_message, id_type_message, message_response from messages where id_message = 11 and is_message_button = 0 and message_status = 1
INFO 2018-05-10 00:31:29,163 [views.py query_fnt 329]: ((11, 'Las situaciones que puedes practicar son las siguientes:', 2, None),)
INFO 2018-05-10 00:31:29,163 [views.py get_submessages_button_db 276]: Consulta submenus para opciones
INFO 2018-05-10 00:31:29,163 [views.py get_submessages_button_db 277]: (11, 'Las situaciones que puedes practicar son las siguientes:', 2, None)
INFO 2018-05-10 00:31:29,163 [views.py query_fnt 323]: Ejecuta consulta...
INFO 2018-05-10 00:31:29,163 [views.py query_fnt 324]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 11 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:31:29,164 [views.py query_fnt 329]: ((12, 'Cine 🎞', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (13, 'Restaurante 🍽', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (14, 'La ciudad 🏢', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)))
INFO 2018-05-10 00:31:29,164 [views.py get_submessages_button_db 283]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:31:29,165 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:31:29,165 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:31:30,578 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:32:59,853 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:32:59,854 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930379601, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930379601, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': 'start', 'title': 'Get Started'}}]}]}
INFO 2018-05-10 00:32:59,854 [views.py post 46]: Llega Page
INFO 2018-05-10 00:32:59,854 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:32:59,854 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:32:59,854 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:32:59,854 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:32:59.854486' and date_finish_session > '2018-05-10 00:32:59.854486'
INFO 2018-05-10 00:32:59,856 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:32:59,856 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:42:59.856467' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:32:59,925 [views.py check_session 366]: ()
INFO 2018-05-10 00:32:59,925 [views.py save_chat 307]: Agregando información al chat...
INFO 2018-05-10 00:32:59,925 [views.py save_chat 308]: start
INFO 2018-05-10 00:32:59,925 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:32:59,925 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:32:59,926 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:32:59.926100' and date_finish_session > '2018-05-10 00:32:59.926100'
INFO 2018-05-10 00:32:59,927 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:32:59,927 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:42:59.927350' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:32:59,958 [views.py check_session 366]: ()
INFO 2018-05-10 00:32:59,958 [views.py save_chat 311]: 200
INFO 2018-05-10 00:32:59,959 [views.py save_chat 312]: start
INFO 2018-05-10 00:32:59,959 [views.py save_chat 313]: True
DEBUG 2018-05-10 00:32:59,992 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:32:59,992 [views.py classify_postback 136]: Clasificando Postback
INFO 2018-05-10 00:32:59,992 [views.py classify_postback 137]: start
INFO 2018-05-10 00:32:59,992 [views.py get_init_message_db 214]: Consultando mensajes
INFO 2018-05-10 00:32:59,992 [views.py get_init_message_db 215]: Mensajes Iniciales
INFO 2018-05-10 00:32:59,992 [views.py get_init_message_db 216]: None
INFO 2018-05-10 00:32:59,992 [views.py get_init_message_db 217]: None
INFO 2018-05-10 00:32:59,993 [views.py get_init_message_db 218]: True
INFO 2018-05-10 00:32:59,993 [views.py get_init_message_db 219]: False
INFO 2018-05-10 00:32:59,993 [views.py query_fnt 323]: Ejecuta consulta...
INFO 2018-05-10 00:32:59,993 [views.py query_fnt 324]: select id_message, description_message, id_type_message from messages where init_message = 1 and message_status = 1
INFO 2018-05-10 00:32:59,994 [views.py query_fnt 329]: ((1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4), (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2), (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2))
INFO 2018-05-10 00:32:59,994 [views.py get_submessages_button_db 276]: Consulta submenus para opciones
INFO 2018-05-10 00:32:59,994 [views.py get_submessages_button_db 277]: (1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4)
INFO 2018-05-10 00:32:59,994 [views.py query_fnt 323]: Ejecuta consulta...
INFO 2018-05-10 00:32:59,994 [views.py query_fnt 324]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 1 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:32:59,995 [views.py query_fnt 329]: ()
INFO 2018-05-10 00:32:59,995 [views.py get_submessages_button_db 288]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 00:32:59,995 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:32:59,995 [views.py send_text_message 420]: 4
INFO 2018-05-10 00:33:02,364 [views.py get_submessages_button_db 276]: Consulta submenus para opciones
INFO 2018-05-10 00:33:02,365 [views.py get_submessages_button_db 277]: (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2)
INFO 2018-05-10 00:33:02,365 [views.py query_fnt 323]: Ejecuta consulta...
INFO 2018-05-10 00:33:02,365 [views.py query_fnt 324]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 2 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:33:02,366 [views.py query_fnt 329]: ()
INFO 2018-05-10 00:33:02,366 [views.py get_submessages_button_db 288]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 00:33:02,366 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:33:02,366 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:33:03,407 [views.py get_submessages_button_db 276]: Consulta submenus para opciones
INFO 2018-05-10 00:33:03,407 [views.py get_submessages_button_db 277]: (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2)
INFO 2018-05-10 00:33:03,407 [views.py query_fnt 323]: Ejecuta consulta...
INFO 2018-05-10 00:33:03,407 [views.py query_fnt 324]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 3 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:33:03,408 [views.py query_fnt 329]: ((4, 'Practicar Idioma 🇨🇴', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (5, 'Ver Histórico 📈', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (6, 'Más Información 📃', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)))
INFO 2018-05-10 00:33:03,408 [views.py get_submessages_button_db 283]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:33:03,409 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:33:03,409 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:33:04,715 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:33:14,039 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:33:14,039 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930393834, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930393518, 'message': {'mid': 'mid.$cAAcCjiE_CkNpec9HrljSIn9fDbC_', 'seq': 37913, 'text': 'Dryfd', 'nlp': {'entities': {'location': [{'suggested': True, 'confidence': 0.8662, 'value': 'Dryfd', 'type': 'value'}]}}}}]}]}
INFO 2018-05-10 00:33:14,040 [views.py post 46]: Llega Page
INFO 2018-05-10 00:33:14,040 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:33:14,040 [views.py check_session 335]: Consultando Sesión...
INFO 2018-05-10 00:33:14,040 [views.py check_session 336]: 1679689618770152
DEBUG 2018-05-10 00:33:14,040 [views.py check_session 340]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:33:14.040394' and date_finish_session > '2018-05-10 00:33:14.040394'
INFO 2018-05-10 00:33:14,041 [views.py check_session 358]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:33:14,042 [views.py check_session 363]: update session set date_finish_session = '2018-05-10 00:43:14.042209' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:33:14,106 [views.py check_session 366]: ()
DEBUG 2018-05-10 00:33:14,107 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:33:14,107 [views.py classify_message 164]: Clasificando Mensaje
INFO 2018-05-10 00:33:14,107 [views.py classify_message 165]: {'mid': 'mid.$cAAcCjiE_CkNpec9HrljSIn9fDbC_', 'seq': 37913, 'text': 'Dryfd', 'nlp': {'entities': {'location': [{'suggested': True, 'confidence': 0.8662, 'value': 'Dryfd', 'type': 'value'}]}}}
INFO 2018-05-10 00:33:14,108 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:33:14,108 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:33:14,108 [views.py send_text_message 419]: Tipo de Contenido
INFO 2018-05-10 00:33:14,108 [views.py send_text_message 420]: 2
INFO 2018-05-10 00:33:15,160 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:40:35,647 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:40:35,648 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930835427, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930835427, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': 'start', 'title': 'Get Started'}}]}]}
INFO 2018-05-10 00:40:35,648 [views.py post 46]: Llega Page
INFO 2018-05-10 00:40:35,648 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:40:35,648 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:40:35,648 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:40:35,648 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:40:35.648628' and date_finish_session > '2018-05-10 00:40:35.648628'
INFO 2018-05-10 00:40:35,650 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:40:35,651 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:50:35.651015' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:40:35,700 [views.py check_session 373]: ()
INFO 2018-05-10 00:40:35,701 [views.py save_chat 314]: Agregando información al chat...
INFO 2018-05-10 00:40:35,701 [views.py save_chat 315]: start
INFO 2018-05-10 00:40:35,701 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:40:35,701 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:40:35,701 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:40:35.701475' and date_finish_session > '2018-05-10 00:40:35.701475'
INFO 2018-05-10 00:40:35,702 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:40:35,702 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:50:35.702442' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:40:35,734 [views.py check_session 373]: ()
INFO 2018-05-10 00:40:35,734 [views.py save_chat 318]: 200
INFO 2018-05-10 00:40:35,734 [views.py save_chat 319]: start
INFO 2018-05-10 00:40:35,734 [views.py save_chat 320]: True
DEBUG 2018-05-10 00:40:35,767 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:40:35,767 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 00:40:35,768 [views.py classify_postback 143]: start
INFO 2018-05-10 00:40:35,768 [views.py get_init_message_db 221]: Consultando mensajes
INFO 2018-05-10 00:40:35,768 [views.py get_init_message_db 222]: Mensajes Iniciales
INFO 2018-05-10 00:40:35,768 [views.py get_init_message_db 223]: None
INFO 2018-05-10 00:40:35,768 [views.py get_init_message_db 224]: None
INFO 2018-05-10 00:40:35,768 [views.py get_init_message_db 225]: True
INFO 2018-05-10 00:40:35,768 [views.py get_init_message_db 226]: False
INFO 2018-05-10 00:40:35,768 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:40:35,768 [views.py query_fnt 331]: select id_message, description_message, id_type_message from messages where init_message = 1 and message_status = 1
INFO 2018-05-10 00:40:35,769 [views.py query_fnt 336]: ((1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4), (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2), (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2))
INFO 2018-05-10 00:40:35,769 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 00:40:35,769 [views.py get_submessages_button_db 284]: (1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4)
INFO 2018-05-10 00:40:35,769 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:40:35,769 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 1 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:40:35,770 [views.py query_fnt 336]: ()
INFO 2018-05-10 00:40:35,770 [views.py get_submessages_button_db 295]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 00:40:35,770 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:40:35,770 [views.py send_text_message 427]: 4
INFO 2018-05-10 00:40:38,756 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 00:40:38,756 [views.py get_submessages_button_db 284]: (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2)
INFO 2018-05-10 00:40:38,756 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:40:38,756 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 2 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:40:38,757 [views.py query_fnt 336]: ()
INFO 2018-05-10 00:40:38,757 [views.py get_submessages_button_db 295]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 00:40:38,757 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:40:38,757 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:40:39,824 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 00:40:39,824 [views.py get_submessages_button_db 284]: (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2)
INFO 2018-05-10 00:40:39,824 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:40:39,824 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 3 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:40:39,825 [views.py query_fnt 336]: ((4, 'Practicar Idioma 🇨🇴', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (5, 'Ver Histórico 📈', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (6, 'Más Información 📃', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)))
INFO 2018-05-10 00:40:39,826 [views.py get_submessages_button_db 290]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:40:39,826 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:40:39,826 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:40:41,445 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:40:41,445 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930835427, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930835427, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': 'start', 'title': 'Get Started'}}]}]}
INFO 2018-05-10 00:40:41,445 [views.py post 46]: Llega Page
INFO 2018-05-10 00:40:41,446 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:40:41,446 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:40:41,446 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:40:41,446 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:40:41.446383' and date_finish_session > '2018-05-10 00:40:41.446383'
INFO 2018-05-10 00:40:41,449 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:40:41,450 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:50:41.449947' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:40:41,500 [views.py check_session 373]: ()
INFO 2018-05-10 00:40:41,501 [views.py save_chat 314]: Agregando información al chat...
INFO 2018-05-10 00:40:41,501 [views.py save_chat 315]: start
INFO 2018-05-10 00:40:41,501 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:40:41,501 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:40:41,502 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:40:41.501955' and date_finish_session > '2018-05-10 00:40:41.501955'
INFO 2018-05-10 00:40:41,503 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:40:41,503 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:50:41.503498' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:40:41,545 [views.py check_session 373]: ()
INFO 2018-05-10 00:40:41,545 [views.py save_chat 318]: 200
INFO 2018-05-10 00:40:41,545 [views.py save_chat 319]: start
INFO 2018-05-10 00:40:41,545 [views.py save_chat 320]: True
DEBUG 2018-05-10 00:40:41,589 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:40:41,590 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 00:40:41,590 [views.py classify_postback 143]: start
INFO 2018-05-10 00:40:41,591 [views.py get_init_message_db 221]: Consultando mensajes
INFO 2018-05-10 00:40:41,591 [views.py get_init_message_db 222]: Mensajes Iniciales
INFO 2018-05-10 00:40:41,591 [views.py get_init_message_db 223]: None
INFO 2018-05-10 00:40:41,591 [views.py get_init_message_db 224]: None
INFO 2018-05-10 00:40:41,591 [views.py get_init_message_db 225]: True
INFO 2018-05-10 00:40:41,591 [views.py get_init_message_db 226]: False
INFO 2018-05-10 00:40:41,591 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:40:41,591 [views.py query_fnt 331]: select id_message, description_message, id_type_message from messages where init_message = 1 and message_status = 1
INFO 2018-05-10 00:40:41,592 [views.py query_fnt 336]: ((1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4), (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2), (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2))
INFO 2018-05-10 00:40:41,593 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 00:40:41,593 [views.py get_submessages_button_db 284]: (1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4)
INFO 2018-05-10 00:40:41,593 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:40:41,593 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 1 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:40:41,594 [views.py query_fnt 336]: ()
INFO 2018-05-10 00:40:41,594 [views.py get_submessages_button_db 295]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 00:40:41,594 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:40:41,594 [views.py send_text_message 427]: 4
INFO 2018-05-10 00:40:43,991 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 00:40:43,991 [views.py get_submessages_button_db 284]: (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2)
INFO 2018-05-10 00:40:43,991 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:40:43,991 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 2 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:40:43,992 [views.py query_fnt 336]: ()
INFO 2018-05-10 00:40:43,992 [views.py get_submessages_button_db 295]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 00:40:43,993 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:40:43,993 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:40:45,155 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 00:40:45,155 [views.py get_submessages_button_db 284]: (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2)
INFO 2018-05-10 00:40:45,155 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:40:45,155 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 3 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:40:45,156 [views.py query_fnt 336]: ((4, 'Practicar Idioma 🇨🇴', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (5, 'Ver Histórico 📈', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (6, 'Más Información 📃', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)))
INFO 2018-05-10 00:40:45,156 [views.py get_submessages_button_db 290]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:40:45,156 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:40:45,156 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:40:47,057 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:41:11,935 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:41:11,935 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930871729, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930871729, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': 'start', 'title': 'Get Started'}}]}]}
INFO 2018-05-10 00:41:11,935 [views.py post 46]: Llega Page
INFO 2018-05-10 00:41:11,935 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:41:11,935 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:41:11,935 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:41:11,935 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:41:11.935970' and date_finish_session > '2018-05-10 00:41:11.935970'
INFO 2018-05-10 00:41:11,937 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:41:11,938 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:51:11.938126' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:41:11,978 [views.py check_session 373]: ()
INFO 2018-05-10 00:41:11,978 [views.py save_chat 314]: Agregando información al chat...
INFO 2018-05-10 00:41:11,979 [views.py save_chat 315]: start
INFO 2018-05-10 00:41:11,979 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:41:11,979 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:41:11,979 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:41:11.979254' and date_finish_session > '2018-05-10 00:41:11.979254'
INFO 2018-05-10 00:41:11,980 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:41:11,980 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:51:11.980285' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:41:12,012 [views.py check_session 373]: ()
INFO 2018-05-10 00:41:12,012 [views.py save_chat 318]: 200
INFO 2018-05-10 00:41:12,012 [views.py save_chat 319]: start
INFO 2018-05-10 00:41:12,012 [views.py save_chat 320]: True
DEBUG 2018-05-10 00:41:12,047 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:41:12,047 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 00:41:12,047 [views.py classify_postback 143]: start
INFO 2018-05-10 00:41:12,048 [views.py get_init_message_db 221]: Consultando mensajes
INFO 2018-05-10 00:41:12,048 [views.py get_init_message_db 222]: Mensajes Iniciales
INFO 2018-05-10 00:41:12,048 [views.py get_init_message_db 223]: None
INFO 2018-05-10 00:41:12,048 [views.py get_init_message_db 224]: None
INFO 2018-05-10 00:41:12,048 [views.py get_init_message_db 225]: True
INFO 2018-05-10 00:41:12,048 [views.py get_init_message_db 226]: False
INFO 2018-05-10 00:41:12,048 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:41:12,048 [views.py query_fnt 331]: select id_message, description_message, id_type_message from messages where init_message = 1 and message_status = 1
INFO 2018-05-10 00:41:12,049 [views.py query_fnt 336]: ((1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4), (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2), (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2))
INFO 2018-05-10 00:41:12,049 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 00:41:12,049 [views.py get_submessages_button_db 284]: (1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4)
INFO 2018-05-10 00:41:12,050 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:41:12,050 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 1 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:41:12,050 [views.py query_fnt 336]: ()
INFO 2018-05-10 00:41:12,050 [views.py get_submessages_button_db 295]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 00:41:12,050 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:41:12,050 [views.py send_text_message 427]: 4
INFO 2018-05-10 00:41:14,622 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 00:41:14,623 [views.py get_submessages_button_db 284]: (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2)
INFO 2018-05-10 00:41:14,623 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:41:14,623 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 2 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:41:14,624 [views.py query_fnt 336]: ()
INFO 2018-05-10 00:41:14,624 [views.py get_submessages_button_db 295]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 00:41:14,624 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:41:14,624 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:41:15,772 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 00:41:15,772 [views.py get_submessages_button_db 284]: (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2)
INFO 2018-05-10 00:41:15,772 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:41:15,772 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 3 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:41:15,773 [views.py query_fnt 336]: ((4, 'Practicar Idioma 🇨🇴', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (5, 'Ver Histórico 📈', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (6, 'Más Información 📃', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)))
INFO 2018-05-10 00:41:15,774 [views.py get_submessages_button_db 290]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:41:15,774 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:41:15,774 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:41:17,064 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:41:45,044 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:41:45,044 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930904811, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930904811, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '4', 'title': 'Practicar Idioma 🇨🇴'}}]}]}
INFO 2018-05-10 00:41:45,045 [views.py post 46]: Llega Page
INFO 2018-05-10 00:41:45,045 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:41:45,045 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:41:45,045 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:41:45,045 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:41:45.045482' and date_finish_session > '2018-05-10 00:41:45.045482'
INFO 2018-05-10 00:41:45,047 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:41:45,047 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:51:45.047287' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:41:45,136 [views.py check_session 373]: ()
INFO 2018-05-10 00:41:45,137 [views.py save_chat 314]: Agregando información al chat...
INFO 2018-05-10 00:41:45,137 [views.py save_chat 315]: 4
INFO 2018-05-10 00:41:45,137 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:41:45,137 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:41:45,137 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:41:45.137661' and date_finish_session > '2018-05-10 00:41:45.137661'
INFO 2018-05-10 00:41:45,138 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:41:45,138 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:51:45.138654' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:41:45,175 [views.py check_session 373]: ()
INFO 2018-05-10 00:41:45,175 [views.py save_chat 318]: 200
INFO 2018-05-10 00:41:45,176 [views.py save_chat 319]: 4
INFO 2018-05-10 00:41:45,176 [views.py save_chat 320]: True
DEBUG 2018-05-10 00:41:45,209 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:41:45,209 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 00:41:45,209 [views.py classify_postback 143]: 4
INFO 2018-05-10 00:41:45,209 [views.py get_init_message_db 221]: Consultando mensajes
INFO 2018-05-10 00:41:45,209 [views.py get_init_message_db 222]: Mensajes Iniciales
INFO 2018-05-10 00:41:45,209 [views.py get_init_message_db 223]: 4
INFO 2018-05-10 00:41:45,210 [views.py get_init_message_db 224]: None
INFO 2018-05-10 00:41:45,210 [views.py get_init_message_db 225]: False
INFO 2018-05-10 00:41:45,210 [views.py get_init_message_db 226]: False
INFO 2018-05-10 00:41:45,210 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:41:45,210 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 4 and mr.relation_status = 1
INFO 2018-05-10 00:41:45,211 [views.py query_fnt 336]: ((7, 'A continuación debes seleccionar en que forma deseas practicar el idioma:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 8, 7), datetime.datetime(2018, 4, 29, 22, 8, 7)),)
INFO 2018-05-10 00:41:45,211 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 00:41:45,211 [views.py get_submessages_button_db 284]: (7, 'A continuación debes seleccionar en que forma deseas practicar el idioma:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 8, 7), datetime.datetime(2018, 4, 29, 22, 8, 7))
INFO 2018-05-10 00:41:45,211 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:41:45,211 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 7 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:41:45,212 [views.py query_fnt 336]: ((8, 'Audio 🔊', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 11, 26), datetime.datetime(2018, 4, 29, 22, 11, 26)), (10, '🎙Audio y Texto 🗒', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 11, 26), datetime.datetime(2018, 4, 29, 22, 11, 26)))
INFO 2018-05-10 00:41:45,212 [views.py get_submessages_button_db 290]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:41:45,212 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:41:45,213 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:41:46,743 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:42:12,727 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:42:12,727 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930932448, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930932448, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '8', 'title': 'Audio 🔊'}}]}]}
INFO 2018-05-10 00:42:12,727 [views.py post 46]: Llega Page
INFO 2018-05-10 00:42:12,727 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:42:12,727 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:42:12,727 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:42:12,728 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:42:12.727992' and date_finish_session > '2018-05-10 00:42:12.727992'
INFO 2018-05-10 00:42:12,729 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:42:12,730 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:52:12.730029' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:42:12,783 [views.py check_session 373]: ()
INFO 2018-05-10 00:42:12,784 [views.py save_chat 314]: Agregando información al chat...
INFO 2018-05-10 00:42:12,784 [views.py save_chat 315]: 8
INFO 2018-05-10 00:42:12,784 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:42:12,784 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:42:12,784 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:42:12.784681' and date_finish_session > '2018-05-10 00:42:12.784681'
INFO 2018-05-10 00:42:12,785 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:42:12,785 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:52:12.785857' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:42:12,822 [views.py check_session 373]: ()
INFO 2018-05-10 00:42:12,822 [views.py save_chat 318]: 200
INFO 2018-05-10 00:42:12,823 [views.py save_chat 319]: 8
INFO 2018-05-10 00:42:12,823 [views.py save_chat 320]: True
DEBUG 2018-05-10 00:42:12,856 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:42:12,856 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 00:42:12,856 [views.py classify_postback 143]: 8
INFO 2018-05-10 00:42:12,856 [views.py save_user_selection 304]: Guardando Info del chat del usuario...
INFO 2018-05-10 00:42:12,856 [views.py save_user_selection 305]: 8
INFO 2018-05-10 00:42:12,857 [views.py get_init_message_db 221]: Consultando mensajes
INFO 2018-05-10 00:42:12,857 [views.py get_init_message_db 222]: Mensajes Iniciales
INFO 2018-05-10 00:42:12,857 [views.py get_init_message_db 223]: 8
INFO 2018-05-10 00:42:12,857 [views.py get_init_message_db 224]: None
INFO 2018-05-10 00:42:12,857 [views.py get_init_message_db 225]: False
INFO 2018-05-10 00:42:12,858 [views.py get_init_message_db 226]: False
INFO 2018-05-10 00:42:12,858 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:42:12,858 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 8 and mr.relation_status = 1
INFO 2018-05-10 00:42:12,859 [views.py query_fnt 336]: ((11, 'Las situaciones que puedes practicar son las siguientes:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)),)
INFO 2018-05-10 00:42:12,859 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 00:42:12,860 [views.py get_submessages_button_db 284]: (11, 'Las situaciones que puedes practicar son las siguientes:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4))
INFO 2018-05-10 00:42:12,860 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:42:12,860 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 11 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:42:12,861 [views.py query_fnt 336]: ((12, 'Cine 🎞', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (13, 'Restaurante 🍽', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (14, 'La ciudad 🏢', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)))
INFO 2018-05-10 00:42:12,861 [views.py get_submessages_button_db 290]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:42:12,862 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:42:12,862 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:42:14,325 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:42:21,037 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:42:21,037 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930940691, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930940691, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '12', 'title': 'Cine 🎞'}}]}]}
INFO 2018-05-10 00:42:21,037 [views.py post 46]: Llega Page
INFO 2018-05-10 00:42:21,037 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:42:21,037 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:42:21,037 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:42:21,038 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:42:21.037971' and date_finish_session > '2018-05-10 00:42:21.037971'
INFO 2018-05-10 00:42:21,039 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:42:21,039 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:52:21.039957' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:42:21,088 [views.py check_session 373]: ()
INFO 2018-05-10 00:42:21,088 [views.py save_chat 314]: Agregando información al chat...
INFO 2018-05-10 00:42:21,088 [views.py save_chat 315]: 12
INFO 2018-05-10 00:42:21,088 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:42:21,089 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:42:21,089 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:42:21.089073' and date_finish_session > '2018-05-10 00:42:21.089073'
INFO 2018-05-10 00:42:21,090 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:42:21,090 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:52:21.090315' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:42:21,121 [views.py check_session 373]: ()
INFO 2018-05-10 00:42:21,122 [views.py save_chat 318]: 200
INFO 2018-05-10 00:42:21,122 [views.py save_chat 319]: 12
INFO 2018-05-10 00:42:21,122 [views.py save_chat 320]: True
DEBUG 2018-05-10 00:42:21,155 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:42:21,155 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 00:42:21,155 [views.py classify_postback 143]: 12
DEBUG 2018-05-10 00:42:21,155 [views.py classify_postback 163]: Situación...
INFO 2018-05-10 00:42:21,155 [views.py get_init_message_db 221]: Consultando mensajes
INFO 2018-05-10 00:42:21,156 [views.py get_init_message_db 222]: Mensajes Iniciales
INFO 2018-05-10 00:42:21,156 [views.py get_init_message_db 223]: 12
INFO 2018-05-10 00:42:21,156 [views.py get_init_message_db 224]: None
INFO 2018-05-10 00:42:21,156 [views.py get_init_message_db 225]: False
INFO 2018-05-10 00:42:21,156 [views.py get_init_message_db 226]: True
INFO 2018-05-10 00:42:21,156 [views.py get_init_message_db 234]: Situation...
INFO 2018-05-10 00:42:21,156 [views.py get_init_message_db 235]: 8
DEBUG 2018-05-10 00:42:21,157 [views.py get_file_audio 83]: /var/www/html/python/epaes/epaesproject/static/audios/situations/
INFO 2018-05-10 00:42:21,157 [views.py get_init_message_db 267]: Enviando audio...
INFO 2018-05-10 00:42:21,157 [views.py get_init_message_db 268]: /static/audios/situations/audioci3.flac
DEBUG 2018-05-10 00:42:21,157 [views.py get_init_message_db 269]: /var/www/html/python/epaes/epaesproject/static/audios/situations/audioci3.flac
DEBUG 2018-05-10 00:42:21,157 [views.py convert_audio 530]: /var/www/html/python/epaes/epaesproject/static/audios/situations/audioci3.flac
INFO 2018-05-10 00:42:22,566 [views.py get_init_message_db 271]: Texto Audio Enviado...
INFO 2018-05-10 00:42:22,567 [views.py get_init_message_db 272]: En qué sala se presenta esta película
INFO 2018-05-10 00:42:22,567 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:42:22,567 [views.py send_text_message 427]: 3
INFO 2018-05-10 00:42:26,118 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:42:43,978 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:42:43,978 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930963750, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930963563, 'message': {'mid': 'mid.$cAAcCjiE_CkNpedf6a1jSJKqbadDp', 'seq': 37951, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31478139_10216230634978506_5399952034961031168_n.mp4/audioclip-1525930962000-2176.mp4?_nc_cat=0&oh=3ecfab333736d8d03103520d5d4a4be9&oe=5AF59375'}}]}}]}]}
INFO 2018-05-10 00:42:43,978 [views.py post 46]: Llega Page
INFO 2018-05-10 00:42:43,978 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:42:43,978 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:42:43,978 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:42:43,978 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:42:43.978934' and date_finish_session > '2018-05-10 00:42:43.978934'
INFO 2018-05-10 00:42:43,980 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:42:43,980 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:52:43.980875' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:42:44,032 [views.py check_session 373]: ()
DEBUG 2018-05-10 00:42:44,032 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:42:44,032 [views.py classify_message 171]: Clasificando Mensaje
INFO 2018-05-10 00:42:44,032 [views.py classify_message 172]: {'mid': 'mid.$cAAcCjiE_CkNpedf6a1jSJKqbadDp', 'seq': 37951, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31478139_10216230634978506_5399952034961031168_n.mp4/audioclip-1525930962000-2176.mp4?_nc_cat=0&oh=3ecfab333736d8d03103520d5d4a4be9&oe=5AF59375'}}]}
INFO 2018-05-10 00:42:44,033 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:42:44,033 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:42:44,033 [views.py classify_message 183]: Audio
INFO 2018-05-10 00:42:44,033 [views.py classify_message 184]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31478139_10216230634978506_5399952034961031168_n.mp4/audioclip-1525930962000-2176.mp4?_nc_cat=0&oh=3ecfab333736d8d03103520d5d4a4be9&oe=5AF59375'}}
INFO 2018-05-10 00:42:44,033 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:42:44,033 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:42:45,758 [views.py process_audio 512]: 1679689618770152_1525930965.346501
DEBUG 2018-05-10 00:42:45,815 [views.py convert_audio 530]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525930965.346501.flac
ERROR 2018-05-10 00:42:46,462 [views.py convert_audio 537]: Se presentó un error en la conversión del audio.
ERROR 2018-05-10 00:42:46,462 [views.py convert_audio 538]: 
INFO 2018-05-10 00:42:46,463 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:42:46,463 [views.py send_text_message 427]: 2
DEBUG 2018-05-10 00:42:47,483 [views.py similar 128]: Primero: En qué sala se presenta esta película
DEBUG 2018-05-10 00:42:47,483 [views.py similar 129]: Segundo: 
INFO 2018-05-10 00:42:47,483 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:42:47,484 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:42:48,568 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:42:48,568 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:42:49,850 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:42:49,850 [views.py send_text_message 427]: 3
INFO 2018-05-10 00:42:53,394 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:43:10,651 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:43:10,651 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525930990468, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525930990268, 'message': {'mid': 'mid.$cAAcCjiE_CkNpedhivFjSJMUL_S8p', 'seq': 37962, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31566926_10216230637058558_6697646274251849728_n.mp4/audioclip-1525930989000-2304.mp4?_nc_cat=0&oh=d65225748937018093245042c5606ff6&oe=5AF5A7DA'}}]}}]}]}
INFO 2018-05-10 00:43:10,652 [views.py post 46]: Llega Page
INFO 2018-05-10 00:43:10,652 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:43:10,652 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:43:10,652 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:43:10,652 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:43:10.652464' and date_finish_session > '2018-05-10 00:43:10.652464'
INFO 2018-05-10 00:43:10,654 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:43:10,654 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:53:10.654419' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:43:10,702 [views.py check_session 373]: ()
DEBUG 2018-05-10 00:43:10,702 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:43:10,703 [views.py classify_message 171]: Clasificando Mensaje
INFO 2018-05-10 00:43:10,703 [views.py classify_message 172]: {'mid': 'mid.$cAAcCjiE_CkNpedhivFjSJMUL_S8p', 'seq': 37962, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31566926_10216230637058558_6697646274251849728_n.mp4/audioclip-1525930989000-2304.mp4?_nc_cat=0&oh=d65225748937018093245042c5606ff6&oe=5AF5A7DA'}}]}
INFO 2018-05-10 00:43:10,703 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:43:10,703 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:43:10,703 [views.py classify_message 183]: Audio
INFO 2018-05-10 00:43:10,703 [views.py classify_message 184]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31566926_10216230637058558_6697646274251849728_n.mp4/audioclip-1525930989000-2304.mp4?_nc_cat=0&oh=d65225748937018093245042c5606ff6&oe=5AF5A7DA'}}
INFO 2018-05-10 00:43:10,703 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:10,703 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:43:12,272 [views.py process_audio 512]: 1679689618770152_1525930991.783318
DEBUG 2018-05-10 00:43:12,328 [views.py convert_audio 530]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525930991.783318.flac
INFO 2018-05-10 00:43:13,336 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:13,336 [views.py send_text_message 427]: 2
DEBUG 2018-05-10 00:43:14,406 [views.py similar 128]: Primero: En qué sala se presenta esta película
DEBUG 2018-05-10 00:43:14,406 [views.py similar 129]: Segundo: Jana
INFO 2018-05-10 00:43:14,406 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:14,406 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:43:15,538 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:15,538 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:43:16,558 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:16,558 [views.py send_text_message 427]: 3
INFO 2018-05-10 00:43:19,886 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:43:31,103 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:43:31,103 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525931010857, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525931010670, 'message': {'mid': 'mid.$cAAcCjiE_CkNpediybljSJNjgfllK', 'seq': 37973, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31557271_10216230639258613_1217062215492829184_n.mp4/audioclip-1525931009000-2304.mp4?_nc_cat=0&oh=d73483fe9865e88095a22738ff1efa3b&oe=5AF5DD43'}}]}}]}]}
INFO 2018-05-10 00:43:31,104 [views.py post 46]: Llega Page
INFO 2018-05-10 00:43:31,104 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:43:31,104 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:43:31,104 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:43:31,104 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:43:31.104500' and date_finish_session > '2018-05-10 00:43:31.104500'
INFO 2018-05-10 00:43:31,106 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:43:31,106 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:53:31.106760' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:43:31,155 [views.py check_session 373]: ()
DEBUG 2018-05-10 00:43:31,156 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:43:31,156 [views.py classify_message 171]: Clasificando Mensaje
INFO 2018-05-10 00:43:31,156 [views.py classify_message 172]: {'mid': 'mid.$cAAcCjiE_CkNpediybljSJNjgfllK', 'seq': 37973, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31557271_10216230639258613_1217062215492829184_n.mp4/audioclip-1525931009000-2304.mp4?_nc_cat=0&oh=d73483fe9865e88095a22738ff1efa3b&oe=5AF5DD43'}}]}
INFO 2018-05-10 00:43:31,156 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:43:31,156 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:43:31,156 [views.py classify_message 183]: Audio
INFO 2018-05-10 00:43:31,157 [views.py classify_message 184]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31557271_10216230639258613_1217062215492829184_n.mp4/audioclip-1525931009000-2304.mp4?_nc_cat=0&oh=d73483fe9865e88095a22738ff1efa3b&oe=5AF5DD43'}}
INFO 2018-05-10 00:43:31,157 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:31,157 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:43:32,631 [views.py process_audio 512]: 1679689618770152_1525931012.231787
DEBUG 2018-05-10 00:43:32,688 [views.py convert_audio 530]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525931012.231787.flac
ERROR 2018-05-10 00:43:33,771 [views.py convert_audio 537]: Se presentó un error en la conversión del audio.
ERROR 2018-05-10 00:43:33,771 [views.py convert_audio 538]: 
INFO 2018-05-10 00:43:33,772 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:33,772 [views.py send_text_message 427]: 2
DEBUG 2018-05-10 00:43:34,955 [views.py similar 128]: Primero: En qué sala se presenta esta película
DEBUG 2018-05-10 00:43:34,955 [views.py similar 129]: Segundo: 
INFO 2018-05-10 00:43:34,955 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:34,956 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:43:36,201 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:36,202 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:43:37,329 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:37,329 [views.py send_text_message 427]: 3
INFO 2018-05-10 00:43:40,559 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:43:47,299 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:43:47,299 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525931027094, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525931026876, 'message': {'mid': 'mid.$cAAcCjiE_CkNpedjxvFjSJOjsWcu4', 'seq': 37984, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31412343_10216230640378641_8274589872560275456_n.mp4/audioclip-1525931026000-1920.mp4?_nc_cat=0&oh=3801815a91662f4d62cb277d2e597afd&oe=5AF586B0'}}]}}]}]}
INFO 2018-05-10 00:43:47,299 [views.py post 46]: Llega Page
INFO 2018-05-10 00:43:47,300 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:43:47,300 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:43:47,300 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:43:47,300 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:43:47.300311' and date_finish_session > '2018-05-10 00:43:47.300311'
INFO 2018-05-10 00:43:47,301 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:43:47,302 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:53:47.302160' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:43:47,354 [views.py check_session 373]: ()
DEBUG 2018-05-10 00:43:47,355 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:43:47,355 [views.py classify_message 171]: Clasificando Mensaje
INFO 2018-05-10 00:43:47,355 [views.py classify_message 172]: {'mid': 'mid.$cAAcCjiE_CkNpedjxvFjSJOjsWcu4', 'seq': 37984, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31412343_10216230640378641_8274589872560275456_n.mp4/audioclip-1525931026000-1920.mp4?_nc_cat=0&oh=3801815a91662f4d62cb277d2e597afd&oe=5AF586B0'}}]}
INFO 2018-05-10 00:43:47,355 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:43:47,355 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:43:47,356 [views.py classify_message 183]: Audio
INFO 2018-05-10 00:43:47,356 [views.py classify_message 184]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31412343_10216230640378641_8274589872560275456_n.mp4/audioclip-1525931026000-1920.mp4?_nc_cat=0&oh=3801815a91662f4d62cb277d2e597afd&oe=5AF586B0'}}
INFO 2018-05-10 00:43:47,356 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:47,356 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:43:53,493 [views.py process_audio 512]: 1679689618770152_1525931033.275426
DEBUG 2018-05-10 00:43:53,549 [views.py convert_audio 530]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525931033.275426.flac
INFO 2018-05-10 00:43:54,762 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:54,763 [views.py send_text_message 427]: 2
DEBUG 2018-05-10 00:43:55,922 [views.py similar 128]: Primero: En qué sala se presenta esta película
DEBUG 2018-05-10 00:43:55,922 [views.py similar 129]: Segundo: Saga
INFO 2018-05-10 00:43:55,923 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:55,923 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:43:56,986 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:56,987 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:43:58,047 [views.py get_init_message_db 221]: Consultando mensajes
INFO 2018-05-10 00:43:58,048 [views.py get_init_message_db 222]: Mensajes Iniciales
INFO 2018-05-10 00:43:58,048 [views.py get_init_message_db 223]: None
INFO 2018-05-10 00:43:58,048 [views.py get_init_message_db 224]: b'11'
INFO 2018-05-10 00:43:58,048 [views.py get_init_message_db 225]: False
INFO 2018-05-10 00:43:58,048 [views.py get_init_message_db 226]: False
INFO 2018-05-10 00:43:58,048 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:43:58,048 [views.py query_fnt 331]: select id_message, description_message, id_type_message, message_response from messages where id_message = 11 and is_message_button = 0 and message_status = 1
INFO 2018-05-10 00:43:58,049 [views.py query_fnt 336]: ((11, 'Las situaciones que puedes practicar son las siguientes:', 2, None),)
INFO 2018-05-10 00:43:58,050 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 00:43:58,050 [views.py get_submessages_button_db 284]: (11, 'Las situaciones que puedes practicar son las siguientes:', 2, None)
INFO 2018-05-10 00:43:58,050 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:43:58,050 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 11 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:43:58,051 [views.py query_fnt 336]: ((12, 'Cine 🎞', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (13, 'Restaurante 🍽', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (14, 'La ciudad 🏢', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)))
INFO 2018-05-10 00:43:58,052 [views.py get_submessages_button_db 290]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:43:58,052 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:43:58,052 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:43:59,660 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:48:05,314 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:48:05,314 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525931285096, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525931285096, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '14', 'title': 'La ciudad 🏢'}}]}]}
INFO 2018-05-10 00:48:05,314 [views.py post 46]: Llega Page
INFO 2018-05-10 00:48:05,315 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:48:05,315 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:48:05,315 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:48:05,315 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:48:05.315344' and date_finish_session > '2018-05-10 00:48:05.315344'
INFO 2018-05-10 00:48:05,317 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:48:05,317 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:58:05.317386' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:48:05,368 [views.py check_session 373]: ()
INFO 2018-05-10 00:48:05,369 [views.py save_chat 314]: Agregando información al chat...
INFO 2018-05-10 00:48:05,369 [views.py save_chat 315]: 14
INFO 2018-05-10 00:48:05,369 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:48:05,369 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:48:05,369 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:48:05.369712' and date_finish_session > '2018-05-10 00:48:05.369712'
INFO 2018-05-10 00:48:05,370 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:48:05,370 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:58:05.370745' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:48:05,402 [views.py check_session 373]: ()
INFO 2018-05-10 00:48:05,402 [views.py save_chat 318]: 200
INFO 2018-05-10 00:48:05,402 [views.py save_chat 319]: 14
INFO 2018-05-10 00:48:05,402 [views.py save_chat 320]: True
DEBUG 2018-05-10 00:48:05,435 [views.py post 72]: Llega Postback
INFO 2018-05-10 00:48:05,436 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 00:48:05,436 [views.py classify_postback 143]: 14
DEBUG 2018-05-10 00:48:05,436 [views.py classify_postback 163]: Situación...
INFO 2018-05-10 00:48:05,436 [views.py get_init_message_db 221]: Consultando mensajes
INFO 2018-05-10 00:48:05,436 [views.py get_init_message_db 222]: Mensajes Iniciales
INFO 2018-05-10 00:48:05,436 [views.py get_init_message_db 223]: 14
INFO 2018-05-10 00:48:05,436 [views.py get_init_message_db 224]: None
INFO 2018-05-10 00:48:05,436 [views.py get_init_message_db 225]: False
INFO 2018-05-10 00:48:05,436 [views.py get_init_message_db 226]: True
INFO 2018-05-10 00:48:05,437 [views.py get_init_message_db 234]: Situation...
INFO 2018-05-10 00:48:05,437 [views.py get_init_message_db 235]: 8
DEBUG 2018-05-10 00:48:05,437 [views.py get_file_audio 83]: /var/www/html/python/epaes/epaesproject/static/audios/situations/
INFO 2018-05-10 00:48:05,438 [views.py get_init_message_db 267]: Enviando audio...
INFO 2018-05-10 00:48:05,438 [views.py get_init_message_db 268]: /static/audios/situations/audioci6.flac
DEBUG 2018-05-10 00:48:05,438 [views.py get_init_message_db 269]: /var/www/html/python/epaes/epaesproject/static/audios/situations/audioci6.flac
DEBUG 2018-05-10 00:48:05,438 [views.py convert_audio 530]: /var/www/html/python/epaes/epaesproject/static/audios/situations/audioci6.flac
INFO 2018-05-10 00:48:06,739 [views.py get_init_message_db 271]: Texto Audio Enviado...
INFO 2018-05-10 00:48:06,740 [views.py get_init_message_db 272]: en el cine No hay que hablar por respeto a otras
INFO 2018-05-10 00:48:06,740 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:48:06,740 [views.py send_text_message 427]: 3
INFO 2018-05-10 00:48:10,216 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 00:48:39,301 [views.py post 42]: Llega petición
DEBUG 2018-05-10 00:48:39,301 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525931319083, 'messaging': [{'sender': {'id': '1679689618770152'}, 'recipient': {'id': '1973135496302261'}, 'timestamp': 1525931318895, 'message': {'mid': 'mid.$cAAcCjiE_CkNped1mb1jSJgRvV162', 'seq': 37999, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31669825_10216230653618972_6123245375378685952_n.mp4/audioclip-1525931318000-4096.mp4?_nc_cat=0&oh=00fcaf59b785642aa80af8ecb1e7c6f8&oe=5AF5CDED'}}]}}]}]}
INFO 2018-05-10 00:48:39,301 [views.py post 46]: Llega Page
INFO 2018-05-10 00:48:39,301 [views.py post 47]: Entradas: 1
INFO 2018-05-10 00:48:39,301 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 00:48:39,301 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 00:48:39,301 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 00:48:39.301679' and date_finish_session > '2018-05-10 00:48:39.301679'
INFO 2018-05-10 00:48:39,303 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 00:48:39,303 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 00:58:39.303843' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 00:48:39,355 [views.py check_session 373]: ()
DEBUG 2018-05-10 00:48:39,356 [views.py post 63]: Llega mensaje
INFO 2018-05-10 00:48:39,356 [views.py classify_message 171]: Clasificando Mensaje
INFO 2018-05-10 00:48:39,356 [views.py classify_message 172]: {'mid': 'mid.$cAAcCjiE_CkNped1mb1jSJgRvV162', 'seq': 37999, 'attachments': [{'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31669825_10216230653618972_6123245375378685952_n.mp4/audioclip-1525931318000-4096.mp4?_nc_cat=0&oh=00fcaf59b785642aa80af8ecb1e7c6f8&oe=5AF5CDED'}}]}
INFO 2018-05-10 00:48:39,357 [views.py verify_response 107]: Verificando Mensaje
INFO 2018-05-10 00:48:39,357 [views.py verify_response 108]: b'8'
INFO 2018-05-10 00:48:39,357 [views.py classify_message 183]: Audio
INFO 2018-05-10 00:48:39,357 [views.py classify_message 184]: {'type': 'audio', 'payload': {'url': 'https://cdn.fbsbx.com/v/t59.3654-21/31669825_10216230653618972_6123245375378685952_n.mp4/audioclip-1525931318000-4096.mp4?_nc_cat=0&oh=00fcaf59b785642aa80af8ecb1e7c6f8&oe=5AF5CDED'}}
INFO 2018-05-10 00:48:39,357 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:48:39,357 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:48:40,677 [views.py process_audio 512]: 1679689618770152_1525931320.371122
DEBUG 2018-05-10 00:48:40,756 [views.py convert_audio 530]: /var/www/html/python/epaes/epaesproject/static/audios/converted/audio_file_1679689618770152_1525931320.371122.flac
INFO 2018-05-10 00:48:43,089 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:48:43,089 [views.py send_text_message 427]: 2
DEBUG 2018-05-10 00:48:44,288 [views.py similar 128]: Primero: en el cine No hay que hablar por respeto a otras
DEBUG 2018-05-10 00:48:44,288 [views.py similar 129]: Segundo: en el cine No hay que hablar por respeto a otros
INFO 2018-05-10 00:48:44,289 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:48:44,289 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:48:45,323 [views.py get_init_message_db 221]: Consultando mensajes
INFO 2018-05-10 00:48:45,323 [views.py get_init_message_db 222]: Mensajes Iniciales
INFO 2018-05-10 00:48:45,324 [views.py get_init_message_db 223]: None
INFO 2018-05-10 00:48:45,324 [views.py get_init_message_db 224]: b'11'
INFO 2018-05-10 00:48:45,324 [views.py get_init_message_db 225]: False
INFO 2018-05-10 00:48:45,324 [views.py get_init_message_db 226]: False
INFO 2018-05-10 00:48:45,324 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:48:45,324 [views.py query_fnt 331]: select id_message, description_message, id_type_message, message_response from messages where id_message = 11 and is_message_button = 0 and message_status = 1
INFO 2018-05-10 00:48:45,325 [views.py query_fnt 336]: ((11, 'Las situaciones que puedes practicar son las siguientes:', 2, None),)
INFO 2018-05-10 00:48:45,325 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 00:48:45,325 [views.py get_submessages_button_db 284]: (11, 'Las situaciones que puedes practicar son las siguientes:', 2, None)
INFO 2018-05-10 00:48:45,325 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 00:48:45,325 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 11 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 00:48:45,326 [views.py query_fnt 336]: ((12, 'Cine 🎞', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (13, 'Restaurante 🍽', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (14, 'La ciudad 🏢', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)))
INFO 2018-05-10 00:48:45,327 [views.py get_submessages_button_db 290]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 00:48:45,327 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 00:48:45,327 [views.py send_text_message 427]: 2
INFO 2018-05-10 00:48:46,918 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 01:16:36,872 [views.py post 42]: Llega petición
DEBUG 2018-05-10 01:16:36,872 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525932996679, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525932996679, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '-500', 'title': 'Volver al menú anterior'}}]}]}
INFO 2018-05-10 01:16:36,872 [views.py post 46]: Llega Page
INFO 2018-05-10 01:16:36,873 [views.py post 47]: Entradas: 1
INFO 2018-05-10 01:16:36,873 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 01:16:36,873 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 01:16:36,873 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:16:36.873327' and date_finish_session > '2018-05-10 01:16:36.873327'
INFO 2018-05-10 01:16:36,875 [views.py check_session 352]: No existía una sesión del usuario, configurando la sesión...
DEBUG 2018-05-10 01:16:36,875 [views.py check_session 358]: insert into temp_session (id_user_session, date_finish_session) values ('1679689618770152', '2018-05-10 01:26:36.875540')
INFO 2018-05-10 01:16:36,956 [views.py check_session 361]: ()
INFO 2018-05-10 01:16:36,957 [views.py save_chat 314]: Agregando información al chat...
INFO 2018-05-10 01:16:36,957 [views.py save_chat 315]: start
INFO 2018-05-10 01:16:36,957 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 01:16:36,957 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 01:16:36,957 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:16:36.957546' and date_finish_session > '2018-05-10 01:16:36.957546'
INFO 2018-05-10 01:16:36,958 [views.py check_session 376]: Sesión iniciada en BD pero no en redis, configurando la sesión
INFO 2018-05-10 01:16:36,958 [views.py save_chat 318]: 71
INFO 2018-05-10 01:16:36,958 [views.py save_chat 319]: start
INFO 2018-05-10 01:16:36,959 [views.py save_chat 320]: True
DEBUG 2018-05-10 01:16:37,023 [views.py post 57]: Renueva sesión
INFO 2018-05-10 01:16:37,024 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 01:16:37,024 [views.py send_text_message 427]: 2
INFO 2018-05-10 01:16:38,064 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 01:16:38,065 [views.py classify_postback 143]: start
INFO 2018-05-10 01:16:38,065 [views.py get_init_message_db 221]: Consultando mensajes
INFO 2018-05-10 01:16:38,065 [views.py get_init_message_db 222]: Mensajes Iniciales
INFO 2018-05-10 01:16:38,066 [views.py get_init_message_db 223]: None
INFO 2018-05-10 01:16:38,066 [views.py get_init_message_db 224]: None
INFO 2018-05-10 01:16:38,066 [views.py get_init_message_db 225]: True
INFO 2018-05-10 01:16:38,066 [views.py get_init_message_db 226]: False
INFO 2018-05-10 01:16:38,066 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 01:16:38,066 [views.py query_fnt 331]: select id_message, description_message, id_type_message from messages where init_message = 1 and message_status = 1
INFO 2018-05-10 01:16:38,067 [views.py query_fnt 336]: ((1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4), (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2), (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2))
INFO 2018-05-10 01:16:38,067 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 01:16:38,067 [views.py get_submessages_button_db 284]: (1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4)
INFO 2018-05-10 01:16:38,067 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 01:16:38,067 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 1 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:16:38,068 [views.py query_fnt 336]: ()
INFO 2018-05-10 01:16:38,068 [views.py get_submessages_button_db 295]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 01:16:38,068 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 01:16:38,068 [views.py send_text_message 427]: 4
INFO 2018-05-10 01:16:40,874 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 01:16:40,874 [views.py get_submessages_button_db 284]: (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2)
INFO 2018-05-10 01:16:40,874 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 01:16:40,874 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 2 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:16:40,875 [views.py query_fnt 336]: ()
INFO 2018-05-10 01:16:40,875 [views.py get_submessages_button_db 295]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 01:16:40,875 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 01:16:40,875 [views.py send_text_message 427]: 2
INFO 2018-05-10 01:16:41,888 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 01:16:41,889 [views.py get_submessages_button_db 284]: (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2)
INFO 2018-05-10 01:16:41,889 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 01:16:41,889 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 3 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:16:41,890 [views.py query_fnt 336]: ((4, 'Practicar Idioma 🇨🇴', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (5, 'Ver Histórico 📈', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (6, 'Más Información 📃', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)))
INFO 2018-05-10 01:16:41,890 [views.py get_submessages_button_db 290]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 01:16:41,890 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 01:16:41,890 [views.py send_text_message 427]: 2
INFO 2018-05-10 01:16:43,323 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 01:16:49,291 [views.py post 42]: Llega petición
DEBUG 2018-05-10 01:16:49,291 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525933009003, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525933009003, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '-1000', 'title': 'Terminar Sesión'}}]}]}
INFO 2018-05-10 01:16:49,291 [views.py post 46]: Llega Page
INFO 2018-05-10 01:16:49,291 [views.py post 47]: Entradas: 1
INFO 2018-05-10 01:16:49,291 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 01:16:49,291 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 01:16:49,291 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:16:49.291779' and date_finish_session > '2018-05-10 01:16:49.291779'
INFO 2018-05-10 01:16:49,293 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:16:49,293 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 01:26:49.293676' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:16:49,340 [views.py check_session 373]: ()
INFO 2018-05-10 01:16:49,340 [views.py save_chat 314]: Agregando información al chat...
INFO 2018-05-10 01:16:49,341 [views.py save_chat 315]: -1000
INFO 2018-05-10 01:16:49,341 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 01:16:49,341 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 01:16:49,341 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:16:49.341216' and date_finish_session > '2018-05-10 01:16:49.341216'
INFO 2018-05-10 01:16:49,342 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:16:49,342 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 01:26:49.342362' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:16:49,382 [views.py check_session 373]: ()
INFO 2018-05-10 01:16:49,382 [views.py save_chat 318]: 200
INFO 2018-05-10 01:16:49,382 [views.py save_chat 319]: -1000
INFO 2018-05-10 01:16:49,383 [views.py save_chat 320]: True
DEBUG 2018-05-10 01:16:49,418 [views.py post 72]: Llega Postback
INFO 2018-05-10 01:16:49,418 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 01:16:49,418 [views.py classify_postback 143]: -1000
INFO 2018-05-10 01:16:49,418 [views.py get_init_message_db 221]: Consultando mensajes
INFO 2018-05-10 01:16:49,419 [views.py get_init_message_db 222]: Mensajes Iniciales
INFO 2018-05-10 01:16:49,419 [views.py get_init_message_db 223]: -1000
INFO 2018-05-10 01:16:49,419 [views.py get_init_message_db 224]: None
INFO 2018-05-10 01:16:49,419 [views.py get_init_message_db 225]: False
INFO 2018-05-10 01:16:49,419 [views.py get_init_message_db 226]: False
INFO 2018-05-10 01:16:49,419 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 01:16:49,419 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = -1000 and mr.relation_status = 1
INFO 2018-05-10 01:16:49,460 [views.py query_fnt 336]: ()
INFO 2018-05-10 01:16:49,460 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 01:16:49,461 [views.py send_text_message 427]: 2
INFO 2018-05-10 01:16:50,474 [views.py get_init_message_db 221]: Consultando mensajes
INFO 2018-05-10 01:16:50,474 [views.py get_init_message_db 222]: Mensajes Iniciales
INFO 2018-05-10 01:16:50,474 [views.py get_init_message_db 223]: None
INFO 2018-05-10 01:16:50,474 [views.py get_init_message_db 224]: b'3'
INFO 2018-05-10 01:16:50,475 [views.py get_init_message_db 225]: False
INFO 2018-05-10 01:16:50,475 [views.py get_init_message_db 226]: False
INFO 2018-05-10 01:16:50,475 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 01:16:50,475 [views.py query_fnt 331]: select id_message, description_message, id_type_message, message_response from messages where id_message = 3 and is_message_button = 0 and message_status = 1
INFO 2018-05-10 01:16:50,475 [views.py query_fnt 336]: ((3, 'Puedes continuar escogiendo alguna de estas opciones:', 2, None),)
INFO 2018-05-10 01:16:50,476 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 01:16:50,476 [views.py get_submessages_button_db 284]: (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2, None)
INFO 2018-05-10 01:16:50,476 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 01:16:50,476 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 3 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:16:50,477 [views.py query_fnt 336]: ((4, 'Practicar Idioma 🇨🇴', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (5, 'Ver Histórico 📈', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (6, 'Más Información 📃', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)))
INFO 2018-05-10 01:16:50,477 [views.py get_submessages_button_db 290]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 01:16:50,477 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 01:16:50,477 [views.py send_text_message 427]: 2
INFO 2018-05-10 01:16:51,962 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 01:22:09,981 [views.py post 42]: Llega petición
DEBUG 2018-05-10 01:22:09,982 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525933329763, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525933329763, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '5', 'title': 'Ver Histórico 📈'}}]}]}
INFO 2018-05-10 01:22:09,982 [views.py post 46]: Llega Page
INFO 2018-05-10 01:22:09,982 [views.py post 47]: Entradas: 1
INFO 2018-05-10 01:22:09,982 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 01:22:09,982 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 01:22:09,982 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:22:09.982571' and date_finish_session > '2018-05-10 01:22:09.982571'
INFO 2018-05-10 01:22:09,984 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:22:09,984 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 01:32:09.984596' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:22:10,030 [views.py check_session 373]: ()
INFO 2018-05-10 01:22:10,030 [views.py save_chat 314]: Agregando información al chat...
INFO 2018-05-10 01:22:10,031 [views.py save_chat 315]: 5
INFO 2018-05-10 01:22:10,031 [views.py check_session 342]: Consultando Sesión...
INFO 2018-05-10 01:22:10,031 [views.py check_session 343]: 1679689618770152
DEBUG 2018-05-10 01:22:10,031 [views.py check_session 347]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:22:10.031381' and date_finish_session > '2018-05-10 01:22:10.031381'
INFO 2018-05-10 01:22:10,032 [views.py check_session 365]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:22:10,032 [views.py check_session 370]: update session set date_finish_session = '2018-05-10 01:32:10.032483' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:22:10,080 [views.py check_session 373]: ()
INFO 2018-05-10 01:22:10,080 [views.py save_chat 318]: 200
INFO 2018-05-10 01:22:10,080 [views.py save_chat 319]: 5
INFO 2018-05-10 01:22:10,080 [views.py save_chat 320]: True
DEBUG 2018-05-10 01:22:10,131 [views.py post 72]: Llega Postback
INFO 2018-05-10 01:22:10,131 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 01:22:10,131 [views.py classify_postback 143]: 5
INFO 2018-05-10 01:22:10,131 [views.py calculate_historical 401]: Calculando información de uso del aplicativo...
INFO 2018-05-10 01:22:10,131 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 01:22:10,131 [views.py query_fnt 331]: select sum(extract(hour from timediff(date_finish_session, date_start_session))) as hours, sum(extract(minute from timediff(date_finish_session, date_start_session))) as minutes, sum(extract(second from timediff(date_finish_session, date_start_session))) as seconds  from session where id_user_session = '1679689618770152' group by id_user_session
INFO 2018-05-10 01:22:10,145 [views.py query_fnt 336]: ((Decimal('1'), Decimal('904'), Decimal('1212')),)
INFO 2018-05-10 01:22:10,145 [views.py calculate_historical 413]: hours 16
INFO 2018-05-10 01:22:10,145 [views.py calculate_historical 414]: minutes 14
INFO 2018-05-10 01:22:10,145 [views.py calculate_historical 415]: seconds 12
INFO 2018-05-10 01:22:10,146 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 01:22:10,146 [views.py send_text_message 427]: 2
INFO 2018-05-10 01:22:11,173 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 01:22:11,174 [views.py send_text_message 427]: 2
INFO 2018-05-10 01:22:12,180 [views.py get_init_message_db 221]: Consultando mensajes
INFO 2018-05-10 01:22:12,181 [views.py get_init_message_db 222]: Mensajes Iniciales
INFO 2018-05-10 01:22:12,181 [views.py get_init_message_db 223]: 5
INFO 2018-05-10 01:22:12,181 [views.py get_init_message_db 224]: 3
INFO 2018-05-10 01:22:12,181 [views.py get_init_message_db 225]: False
INFO 2018-05-10 01:22:12,181 [views.py get_init_message_db 226]: False
INFO 2018-05-10 01:22:12,181 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 01:22:12,181 [views.py query_fnt 331]: select id_message, description_message, id_type_message, message_response from messages where id_message = 3 and is_message_button = 0 and message_status = 1
INFO 2018-05-10 01:22:12,182 [views.py query_fnt 336]: ((3, 'Puedes continuar escogiendo alguna de estas opciones:', 2, None),)
INFO 2018-05-10 01:22:12,182 [views.py get_submessages_button_db 283]: Consulta submenus para opciones
INFO 2018-05-10 01:22:12,182 [views.py get_submessages_button_db 284]: (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2, None)
INFO 2018-05-10 01:22:12,182 [views.py query_fnt 330]: Ejecuta consulta...
INFO 2018-05-10 01:22:12,182 [views.py query_fnt 331]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 3 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:22:12,183 [views.py query_fnt 336]: ((4, 'Practicar Idioma 🇨🇴', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (5, 'Ver Histórico 📈', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (6, 'Más Información 📃', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)))
INFO 2018-05-10 01:22:12,183 [views.py get_submessages_button_db 290]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 01:22:12,183 [views.py send_text_message 426]: Tipo de Contenido
INFO 2018-05-10 01:22:12,184 [views.py send_text_message 427]: 2
INFO 2018-05-10 01:22:13,642 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 01:42:48,739 [views.py post 42]: Llega petición
DEBUG 2018-05-10 01:42:48,739 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525934568560, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525934568560, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '-1000', 'title': 'Terminar Sesión'}}]}]}
INFO 2018-05-10 01:42:48,739 [views.py post 46]: Llega Page
INFO 2018-05-10 01:42:48,739 [views.py post 47]: Entradas: 1
INFO 2018-05-10 01:42:48,739 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:42:48,739 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:42:48,739 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:42:48.739812' and date_finish_session > '2018-05-10 01:42:48.739812'
INFO 2018-05-10 01:42:48,741 [views.py check_session 356]: No existía una sesión del usuario, configurando la sesión...
DEBUG 2018-05-10 01:42:48,742 [views.py check_session 362]: insert into temp_session (id_user_session, date_finish_session) values ('1679689618770152', '2018-05-10 01:52:48.742468')
INFO 2018-05-10 01:42:48,790 [views.py check_session 365]: ()
INFO 2018-05-10 01:42:48,791 [views.py save_chat 318]: Agregando información al chat...
INFO 2018-05-10 01:42:48,791 [views.py save_chat 319]: start
INFO 2018-05-10 01:42:48,791 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:42:48,791 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:42:48,791 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:42:48.791381' and date_finish_session > '2018-05-10 01:42:48.791381'
INFO 2018-05-10 01:42:48,792 [views.py check_session 380]: Sesión iniciada en BD pero no en redis, configurando la sesión
INFO 2018-05-10 01:42:48,792 [views.py save_chat 322]: 72
INFO 2018-05-10 01:42:48,792 [views.py save_chat 323]: start
INFO 2018-05-10 01:42:48,792 [views.py save_chat 324]: True
DEBUG 2018-05-10 01:42:48,857 [views.py post 57]: Renueva sesión
INFO 2018-05-10 01:42:48,857 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:42:48,858 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:42:49,879 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 01:42:49,879 [views.py classify_postback 143]: start
INFO 2018-05-10 01:42:49,880 [views.py get_init_message_db 225]: Consultando mensajes
INFO 2018-05-10 01:42:49,880 [views.py get_init_message_db 226]: Mensajes Iniciales
INFO 2018-05-10 01:42:49,880 [views.py get_init_message_db 227]: None
INFO 2018-05-10 01:42:49,880 [views.py get_init_message_db 228]: None
INFO 2018-05-10 01:42:49,880 [views.py get_init_message_db 229]: True
INFO 2018-05-10 01:42:49,880 [views.py get_init_message_db 230]: False
INFO 2018-05-10 01:42:49,880 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:42:49,881 [views.py query_fnt 335]: select id_message, description_message, id_type_message from messages where init_message = 1 and message_status = 1
INFO 2018-05-10 01:42:49,881 [views.py query_fnt 340]: ((1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4), (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2), (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2))
INFO 2018-05-10 01:42:49,882 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:42:49,882 [views.py get_submessages_button_db 288]: (1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4)
INFO 2018-05-10 01:42:49,882 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:42:49,882 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 1 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:42:49,883 [views.py query_fnt 340]: ()
INFO 2018-05-10 01:42:49,883 [views.py get_submessages_button_db 299]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 01:42:49,883 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:42:49,883 [views.py send_text_message 437]: 4
INFO 2018-05-10 01:42:52,152 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:42:52,152 [views.py get_submessages_button_db 288]: (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2)
INFO 2018-05-10 01:42:52,152 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:42:52,152 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 2 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:42:52,153 [views.py query_fnt 340]: ()
INFO 2018-05-10 01:42:52,153 [views.py get_submessages_button_db 299]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 01:42:52,153 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:42:52,153 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:42:53,165 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:42:53,165 [views.py get_submessages_button_db 288]: (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2)
INFO 2018-05-10 01:42:53,165 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:42:53,165 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 3 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:42:53,166 [views.py query_fnt 340]: ((4, 'Practicar Idioma 🇨🇴', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (5, 'Ver Histórico 📈', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (6, 'Más Información 📃', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)))
INFO 2018-05-10 01:42:53,166 [views.py get_submessages_button_db 294]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 01:42:53,167 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:42:53,167 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:42:54,515 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 01:42:57,823 [views.py post 42]: Llega petición
DEBUG 2018-05-10 01:42:57,823 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525934577588, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525934577588, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '-1000', 'title': 'Terminar Sesión'}}]}]}
INFO 2018-05-10 01:42:57,824 [views.py post 46]: Llega Page
INFO 2018-05-10 01:42:57,824 [views.py post 47]: Entradas: 1
INFO 2018-05-10 01:42:57,824 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:42:57,824 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:42:57,824 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:42:57.824377' and date_finish_session > '2018-05-10 01:42:57.824377'
INFO 2018-05-10 01:42:57,826 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:42:57,826 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:52:57.826402' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:42:57,889 [views.py check_session 377]: ()
INFO 2018-05-10 01:42:57,890 [views.py save_chat 318]: Agregando información al chat...
INFO 2018-05-10 01:42:57,890 [views.py save_chat 319]: -1000
INFO 2018-05-10 01:42:57,890 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:42:57,890 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:42:57,890 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:42:57.890748' and date_finish_session > '2018-05-10 01:42:57.890748'
INFO 2018-05-10 01:42:57,891 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:42:57,891 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:52:57.891826' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:42:57,923 [views.py check_session 377]: ()
INFO 2018-05-10 01:42:57,923 [views.py save_chat 322]: 200
INFO 2018-05-10 01:42:57,923 [views.py save_chat 323]: -1000
INFO 2018-05-10 01:42:57,923 [views.py save_chat 324]: True
DEBUG 2018-05-10 01:42:57,956 [views.py post 72]: Llega Postback
INFO 2018-05-10 01:42:57,957 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 01:42:57,957 [views.py classify_postback 143]: -1000
INFO 2018-05-10 01:42:57,957 [views.py classify_postback 162]: Terminar Sesión
INFO 2018-05-10 01:42:57,957 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:42:57,957 [views.py query_fnt 335]: update session set user_ends_session = 1 where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:42:57,990 [views.py query_fnt 340]: ()
INFO 2018-05-10 01:42:57,990 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:42:57,990 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:42:58,990 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 01:43:06,619 [views.py post 42]: Llega petición
DEBUG 2018-05-10 01:43:06,619 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525934586430, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525934586430, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '4', 'title': 'Practicar Idioma 🇨🇴'}}]}]}
INFO 2018-05-10 01:43:06,620 [views.py post 46]: Llega Page
INFO 2018-05-10 01:43:06,620 [views.py post 47]: Entradas: 1
INFO 2018-05-10 01:43:06,620 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:43:06,620 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:43:06,620 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:43:06.620397' and date_finish_session > '2018-05-10 01:43:06.620397'
INFO 2018-05-10 01:43:06,622 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:43:06,622 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:53:06.622308' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:43:06,622 [views.py check_session 377]: ()
INFO 2018-05-10 01:43:06,623 [views.py save_chat 318]: Agregando información al chat...
INFO 2018-05-10 01:43:06,623 [views.py save_chat 319]: 4
INFO 2018-05-10 01:43:06,623 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:43:06,623 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:43:06,623 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:43:06.623512' and date_finish_session > '2018-05-10 01:43:06.623512'
INFO 2018-05-10 01:43:06,624 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:43:06,624 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:53:06.624496' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:43:06,624 [views.py check_session 377]: ()
INFO 2018-05-10 01:43:06,625 [views.py save_chat 322]: 200
INFO 2018-05-10 01:43:06,625 [views.py save_chat 323]: 4
INFO 2018-05-10 01:43:06,625 [views.py save_chat 324]: True
DEBUG 2018-05-10 01:43:06,678 [views.py post 72]: Llega Postback
INFO 2018-05-10 01:43:06,678 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 01:43:06,678 [views.py classify_postback 143]: 4
INFO 2018-05-10 01:43:06,678 [views.py get_init_message_db 225]: Consultando mensajes
INFO 2018-05-10 01:43:06,678 [views.py get_init_message_db 226]: Mensajes Iniciales
INFO 2018-05-10 01:43:06,678 [views.py get_init_message_db 227]: 4
INFO 2018-05-10 01:43:06,678 [views.py get_init_message_db 228]: None
INFO 2018-05-10 01:43:06,678 [views.py get_init_message_db 229]: False
INFO 2018-05-10 01:43:06,678 [views.py get_init_message_db 230]: False
INFO 2018-05-10 01:43:06,678 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:43:06,679 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 4 and mr.relation_status = 1
INFO 2018-05-10 01:43:06,679 [views.py query_fnt 340]: ((7, 'A continuación debes seleccionar en que forma deseas practicar el idioma:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 8, 7), datetime.datetime(2018, 4, 29, 22, 8, 7)),)
INFO 2018-05-10 01:43:06,680 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:43:06,680 [views.py get_submessages_button_db 288]: (7, 'A continuación debes seleccionar en que forma deseas practicar el idioma:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 8, 7), datetime.datetime(2018, 4, 29, 22, 8, 7))
INFO 2018-05-10 01:43:06,680 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:43:06,680 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 7 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:43:06,680 [views.py query_fnt 340]: ((8, 'Audio 🔊', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 11, 26), datetime.datetime(2018, 4, 29, 22, 11, 26)), (10, '🎙Audio y Texto 🗒', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 11, 26), datetime.datetime(2018, 4, 29, 22, 11, 26)))
INFO 2018-05-10 01:43:06,681 [views.py get_submessages_button_db 294]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 01:43:06,681 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:43:06,681 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:43:08,109 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 01:43:33,491 [views.py post 42]: Llega petición
DEBUG 2018-05-10 01:43:33,491 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525934613261, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525934613261, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '-1000', 'title': 'Terminar Sesión'}}]}]}
INFO 2018-05-10 01:43:33,492 [views.py post 46]: Llega Page
INFO 2018-05-10 01:43:33,492 [views.py post 47]: Entradas: 1
INFO 2018-05-10 01:43:33,492 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:43:33,492 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:43:33,492 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:43:33.492642' and date_finish_session > '2018-05-10 01:43:33.492642'
INFO 2018-05-10 01:43:33,494 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:43:33,494 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:53:33.494638' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:43:33,495 [views.py check_session 377]: ()
INFO 2018-05-10 01:43:33,495 [views.py save_chat 318]: Agregando información al chat...
INFO 2018-05-10 01:43:33,495 [views.py save_chat 319]: -1000
INFO 2018-05-10 01:43:33,495 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:43:33,495 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:43:33,495 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:43:33.495812' and date_finish_session > '2018-05-10 01:43:33.495812'
INFO 2018-05-10 01:43:33,496 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:43:33,496 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:53:33.496694' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:43:33,497 [views.py check_session 377]: ()
INFO 2018-05-10 01:43:33,497 [views.py save_chat 322]: 200
INFO 2018-05-10 01:43:33,497 [views.py save_chat 323]: -1000
INFO 2018-05-10 01:43:33,497 [views.py save_chat 324]: True
DEBUG 2018-05-10 01:43:33,560 [views.py post 72]: Llega Postback
INFO 2018-05-10 01:43:33,561 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 01:43:33,561 [views.py classify_postback 143]: -1000
INFO 2018-05-10 01:43:33,561 [views.py classify_postback 162]: Terminar Sesión
INFO 2018-05-10 01:43:33,561 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:43:33,561 [views.py query_fnt 335]: update session set user_ends_session = 1 where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:43:33,562 [views.py query_fnt 340]: ()
INFO 2018-05-10 01:43:33,562 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:43:33,562 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:43:34,636 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 01:48:05,003 [views.py post 42]: Llega petición
DEBUG 2018-05-10 01:48:05,003 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525934884712, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525934884712, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '8', 'title': 'Audio 🔊'}}]}]}
INFO 2018-05-10 01:48:05,004 [views.py post 46]: Llega Page
INFO 2018-05-10 01:48:05,004 [views.py post 47]: Entradas: 1
INFO 2018-05-10 01:48:05,004 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:48:05,004 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:48:05,004 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:48:05.004499' and date_finish_session > '2018-05-10 01:48:05.004499'
INFO 2018-05-10 01:48:05,006 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:48:05,006 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:58:05.006536' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:48:05,007 [views.py check_session 377]: ()
INFO 2018-05-10 01:48:05,007 [views.py save_chat 318]: Agregando información al chat...
INFO 2018-05-10 01:48:05,007 [views.py save_chat 319]: 8
INFO 2018-05-10 01:48:05,007 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:48:05,007 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:48:05,007 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:48:05.007764' and date_finish_session > '2018-05-10 01:48:05.007764'
INFO 2018-05-10 01:48:05,008 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:48:05,008 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:58:05.008631' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:48:05,009 [views.py check_session 377]: ()
INFO 2018-05-10 01:48:05,009 [views.py save_chat 322]: 200
INFO 2018-05-10 01:48:05,009 [views.py save_chat 323]: 8
INFO 2018-05-10 01:48:05,009 [views.py save_chat 324]: True
DEBUG 2018-05-10 01:48:05,066 [views.py post 72]: Llega Postback
INFO 2018-05-10 01:48:05,067 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 01:48:05,067 [views.py classify_postback 143]: 8
INFO 2018-05-10 01:48:05,067 [views.py save_user_selection 308]: Guardando Info del chat del usuario...
INFO 2018-05-10 01:48:05,067 [views.py save_user_selection 309]: 8
INFO 2018-05-10 01:48:05,067 [views.py get_init_message_db 225]: Consultando mensajes
INFO 2018-05-10 01:48:05,067 [views.py get_init_message_db 226]: Mensajes Iniciales
INFO 2018-05-10 01:48:05,068 [views.py get_init_message_db 227]: 8
INFO 2018-05-10 01:48:05,068 [views.py get_init_message_db 228]: None
INFO 2018-05-10 01:48:05,068 [views.py get_init_message_db 229]: False
INFO 2018-05-10 01:48:05,068 [views.py get_init_message_db 230]: False
INFO 2018-05-10 01:48:05,068 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:48:05,068 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 8 and mr.relation_status = 1
INFO 2018-05-10 01:48:05,069 [views.py query_fnt 340]: ((11, 'Las situaciones que puedes practicar son las siguientes:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)),)
INFO 2018-05-10 01:48:05,069 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:48:05,069 [views.py get_submessages_button_db 288]: (11, 'Las situaciones que puedes practicar son las siguientes:', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4))
INFO 2018-05-10 01:48:05,069 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:48:05,070 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 11 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:48:05,070 [views.py query_fnt 340]: ((12, 'Cine 🎞', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (13, 'Restaurante 🍽', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)), (14, 'La ciudad 🏢', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 22, 25, 4), datetime.datetime(2018, 4, 29, 22, 25, 4)))
INFO 2018-05-10 01:48:05,070 [views.py get_submessages_button_db 294]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 01:48:05,071 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:48:05,071 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:48:06,367 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 01:48:56,482 [views.py post 42]: Llega petición
DEBUG 2018-05-10 01:48:56,482 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525934936291, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525934936291, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '8', 'title': 'Audio 🔊'}}]}]}
INFO 2018-05-10 01:48:56,482 [views.py post 46]: Llega Page
INFO 2018-05-10 01:48:56,482 [views.py post 47]: Entradas: 1
INFO 2018-05-10 01:48:56,482 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:48:56,482 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:48:56,483 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:48:56.482972' and date_finish_session > '2018-05-10 01:48:56.482972' and auto_ends_session <> 1 and user_ends_session <> 1
INFO 2018-05-10 01:48:56,484 [views.py check_session 356]: No existía una sesión del usuario, configurando la sesión...
DEBUG 2018-05-10 01:48:56,485 [views.py check_session 362]: insert into temp_session (id_user_session, date_finish_session) values ('1679689618770152', '2018-05-10 01:58:56.485315')
INFO 2018-05-10 01:48:56,534 [views.py check_session 365]: ()
INFO 2018-05-10 01:48:56,534 [views.py save_chat 318]: Agregando información al chat...
INFO 2018-05-10 01:48:56,534 [views.py save_chat 319]: start
INFO 2018-05-10 01:48:56,534 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:48:56,534 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:48:56,534 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:48:56.534564' and date_finish_session > '2018-05-10 01:48:56.534564' and auto_ends_session <> 1 and user_ends_session <> 1
INFO 2018-05-10 01:48:56,535 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:48:56,535 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:58:56.535820' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:48:56,601 [views.py check_session 377]: ()
INFO 2018-05-10 01:48:56,601 [views.py save_chat 322]: 200
INFO 2018-05-10 01:48:56,601 [views.py save_chat 323]: start
INFO 2018-05-10 01:48:56,601 [views.py save_chat 324]: True
DEBUG 2018-05-10 01:48:56,635 [views.py post 57]: Renueva sesión
INFO 2018-05-10 01:48:56,635 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:48:56,635 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:48:57,669 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 01:48:57,670 [views.py classify_postback 143]: start
INFO 2018-05-10 01:48:57,671 [views.py get_init_message_db 225]: Consultando mensajes
INFO 2018-05-10 01:48:57,671 [views.py get_init_message_db 226]: Mensajes Iniciales
INFO 2018-05-10 01:48:57,671 [views.py get_init_message_db 227]: None
INFO 2018-05-10 01:48:57,671 [views.py get_init_message_db 228]: None
INFO 2018-05-10 01:48:57,671 [views.py get_init_message_db 229]: True
INFO 2018-05-10 01:48:57,671 [views.py get_init_message_db 230]: False
INFO 2018-05-10 01:48:57,671 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:48:57,671 [views.py query_fnt 335]: select id_message, description_message, id_type_message from messages where init_message = 1 and message_status = 1
INFO 2018-05-10 01:48:57,672 [views.py query_fnt 340]: ((1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4), (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2), (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2))
INFO 2018-05-10 01:48:57,672 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:48:57,672 [views.py get_submessages_button_db 288]: (1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4)
INFO 2018-05-10 01:48:57,672 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:48:57,673 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 1 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:48:57,673 [views.py query_fnt 340]: ()
INFO 2018-05-10 01:48:57,673 [views.py get_submessages_button_db 299]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 01:48:57,673 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:48:57,673 [views.py send_text_message 437]: 4
INFO 2018-05-10 01:49:00,142 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:49:00,142 [views.py get_submessages_button_db 288]: (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2)
INFO 2018-05-10 01:49:00,142 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:49:00,142 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 2 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:49:00,143 [views.py query_fnt 340]: ()
INFO 2018-05-10 01:49:00,143 [views.py get_submessages_button_db 299]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 01:49:00,143 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:49:00,143 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:49:01,248 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:49:01,248 [views.py get_submessages_button_db 288]: (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2)
INFO 2018-05-10 01:49:01,248 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:49:01,248 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 3 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:49:01,249 [views.py query_fnt 340]: ((4, 'Practicar Idioma 🇨🇴', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (5, 'Ver Histórico 📈', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (6, 'Más Información 📃', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)))
INFO 2018-05-10 01:49:01,250 [views.py get_submessages_button_db 294]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 01:49:01,250 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:49:01,250 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:49:02,565 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 01:49:06,191 [views.py post 42]: Llega petición
DEBUG 2018-05-10 01:49:06,192 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525934945956, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525934945956, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '-1000', 'title': 'Terminar Sesión'}}]}]}
INFO 2018-05-10 01:49:06,192 [views.py post 46]: Llega Page
INFO 2018-05-10 01:49:06,192 [views.py post 47]: Entradas: 1
INFO 2018-05-10 01:49:06,192 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:49:06,192 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:49:06,192 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:49:06.192522' and date_finish_session > '2018-05-10 01:49:06.192522' and auto_ends_session <> 1 and user_ends_session <> 1
INFO 2018-05-10 01:49:06,194 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:49:06,194 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:59:06.194462' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:49:06,255 [views.py check_session 377]: ()
INFO 2018-05-10 01:49:06,255 [views.py save_chat 318]: Agregando información al chat...
INFO 2018-05-10 01:49:06,255 [views.py save_chat 319]: -1000
INFO 2018-05-10 01:49:06,255 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:49:06,255 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:49:06,256 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:49:06.256023' and date_finish_session > '2018-05-10 01:49:06.256023' and auto_ends_session <> 1 and user_ends_session <> 1
INFO 2018-05-10 01:49:06,256 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:49:06,257 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:59:06.257106' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:49:06,299 [views.py check_session 377]: ()
INFO 2018-05-10 01:49:06,300 [views.py save_chat 322]: 200
INFO 2018-05-10 01:49:06,300 [views.py save_chat 323]: -1000
INFO 2018-05-10 01:49:06,300 [views.py save_chat 324]: True
DEBUG 2018-05-10 01:49:06,333 [views.py post 72]: Llega Postback
INFO 2018-05-10 01:49:06,333 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 01:49:06,333 [views.py classify_postback 143]: -1000
INFO 2018-05-10 01:49:06,333 [views.py classify_postback 162]: Terminar Sesión
INFO 2018-05-10 01:49:06,333 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:49:06,333 [views.py query_fnt 335]: update session set user_ends_session = 1 where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:49:06,366 [views.py query_fnt 340]: ()
INFO 2018-05-10 01:49:06,367 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:49:06,367 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:49:07,374 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 01:49:19,915 [views.py post 42]: Llega petición
DEBUG 2018-05-10 01:49:19,916 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525934959727, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525934959727, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '6', 'title': 'Más Información 📃'}}]}]}
INFO 2018-05-10 01:49:19,916 [views.py post 46]: Llega Page
INFO 2018-05-10 01:49:19,916 [views.py post 47]: Entradas: 1
INFO 2018-05-10 01:49:19,916 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:49:19,916 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:49:19,916 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:49:19.916513' and date_finish_session > '2018-05-10 01:49:19.916513' and auto_ends_session <> 1 and user_ends_session <> 1
INFO 2018-05-10 01:49:19,918 [views.py check_session 356]: No existía una sesión del usuario, configurando la sesión...
DEBUG 2018-05-10 01:49:19,918 [views.py check_session 362]: insert into temp_session (id_user_session, date_finish_session) values ('1679689618770152', '2018-05-10 01:59:19.918446')
INFO 2018-05-10 01:49:19,947 [views.py check_session 365]: ()
INFO 2018-05-10 01:49:19,947 [views.py save_chat 318]: Agregando información al chat...
INFO 2018-05-10 01:49:19,947 [views.py save_chat 319]: start
INFO 2018-05-10 01:49:19,947 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:49:19,947 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:49:19,948 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:49:19.948030' and date_finish_session > '2018-05-10 01:49:19.948030' and auto_ends_session <> 1 and user_ends_session <> 1
INFO 2018-05-10 01:49:19,948 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:49:19,949 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:59:19.949281' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:49:19,981 [views.py check_session 377]: ()
INFO 2018-05-10 01:49:19,981 [views.py save_chat 322]: 200
INFO 2018-05-10 01:49:19,981 [views.py save_chat 323]: start
INFO 2018-05-10 01:49:19,981 [views.py save_chat 324]: True
DEBUG 2018-05-10 01:49:20,014 [views.py post 57]: Renueva sesión
INFO 2018-05-10 01:49:20,014 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:49:20,014 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:49:21,112 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 01:49:21,112 [views.py classify_postback 143]: start
INFO 2018-05-10 01:49:21,113 [views.py get_init_message_db 225]: Consultando mensajes
INFO 2018-05-10 01:49:21,113 [views.py get_init_message_db 226]: Mensajes Iniciales
INFO 2018-05-10 01:49:21,113 [views.py get_init_message_db 227]: None
INFO 2018-05-10 01:49:21,113 [views.py get_init_message_db 228]: None
INFO 2018-05-10 01:49:21,113 [views.py get_init_message_db 229]: True
INFO 2018-05-10 01:49:21,114 [views.py get_init_message_db 230]: False
INFO 2018-05-10 01:49:21,114 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:49:21,114 [views.py query_fnt 335]: select id_message, description_message, id_type_message from messages where init_message = 1 and message_status = 1
INFO 2018-05-10 01:49:21,114 [views.py query_fnt 340]: ((1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4), (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2), (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2))
INFO 2018-05-10 01:49:21,115 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:49:21,115 [views.py get_submessages_button_db 288]: (1, 'https://lh3.googleusercontent.com/fgbSJbGyT9gDSPPdVxsKZ1l9gE3fpbF-CoZBn3xYgkD6Zcr-kPUbLUD2wDnA31hJ4WtN=s180', 4)
INFO 2018-05-10 01:49:21,115 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:49:21,115 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 1 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:49:21,116 [views.py query_fnt 340]: ()
INFO 2018-05-10 01:49:21,116 [views.py get_submessages_button_db 299]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 01:49:21,116 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:49:21,116 [views.py send_text_message 437]: 4
INFO 2018-05-10 01:49:23,493 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:49:23,493 [views.py get_submessages_button_db 288]: (2, 'Bienvenido al Chatbot de Ayuda a Extranjeros para Aprender Español Colombiano. Soy EPAES y te acompañaré durante tu práctica del idioma. 🤖', 2)
INFO 2018-05-10 01:49:23,493 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:49:23,493 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 2 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:49:23,494 [views.py query_fnt 340]: ()
INFO 2018-05-10 01:49:23,494 [views.py get_submessages_button_db 299]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 01:49:23,494 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:49:23,494 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:49:24,524 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:49:24,524 [views.py get_submessages_button_db 288]: (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2)
INFO 2018-05-10 01:49:24,524 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:49:24,524 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 3 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:49:24,525 [views.py query_fnt 340]: ((4, 'Practicar Idioma 🇨🇴', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (5, 'Ver Histórico 📈', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (6, 'Más Información 📃', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)))
INFO 2018-05-10 01:49:24,526 [views.py get_submessages_button_db 294]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 01:49:24,526 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:49:24,526 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:49:25,980 [views.py post 77]: Devuelve 200 OK
INFO 2018-05-10 01:49:28,554 [views.py post 42]: Llega petición
DEBUG 2018-05-10 01:49:28,554 [views.py post 43]: {'object': 'page', 'entry': [{'id': '1973135496302261', 'time': 1525934968325, 'messaging': [{'recipient': {'id': '1973135496302261'}, 'timestamp': 1525934968325, 'sender': {'id': '1679689618770152'}, 'postback': {'payload': '6', 'title': 'Más Información 📃'}}]}]}
INFO 2018-05-10 01:49:28,554 [views.py post 46]: Llega Page
INFO 2018-05-10 01:49:28,554 [views.py post 47]: Entradas: 1
INFO 2018-05-10 01:49:28,554 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:49:28,554 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:49:28,555 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:49:28.555010' and date_finish_session > '2018-05-10 01:49:28.555010' and auto_ends_session <> 1 and user_ends_session <> 1
INFO 2018-05-10 01:49:28,556 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:49:28,556 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:59:28.556812' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:49:28,624 [views.py check_session 377]: ()
INFO 2018-05-10 01:49:28,625 [views.py save_chat 318]: Agregando información al chat...
INFO 2018-05-10 01:49:28,625 [views.py save_chat 319]: 6
INFO 2018-05-10 01:49:28,625 [views.py check_session 346]: Consultando Sesión...
INFO 2018-05-10 01:49:28,625 [views.py check_session 347]: 1679689618770152
DEBUG 2018-05-10 01:49:28,625 [views.py check_session 351]: select * from session where id_user_session = '1679689618770152' and date_start_session < '2018-05-10 01:49:28.625687' and date_finish_session > '2018-05-10 01:49:28.625687' and auto_ends_session <> 1 and user_ends_session <> 1
INFO 2018-05-10 01:49:28,626 [views.py check_session 369]: Actualizando tiempo de vencimiento de sesión
DEBUG 2018-05-10 01:49:28,626 [views.py check_session 374]: update session set date_finish_session = '2018-05-10 01:59:28.626934' where id_user_session = '1679689618770152' and auto_ends_session <> 1 and user_ends_session <> 1 
INFO 2018-05-10 01:49:28,658 [views.py check_session 377]: ()
INFO 2018-05-10 01:49:28,658 [views.py save_chat 322]: 200
INFO 2018-05-10 01:49:28,658 [views.py save_chat 323]: 6
INFO 2018-05-10 01:49:28,658 [views.py save_chat 324]: True
DEBUG 2018-05-10 01:49:28,691 [views.py post 72]: Llega Postback
INFO 2018-05-10 01:49:28,692 [views.py classify_postback 142]: Clasificando Postback
INFO 2018-05-10 01:49:28,692 [views.py classify_postback 143]: 6
INFO 2018-05-10 01:49:28,692 [views.py get_init_message_db 225]: Consultando mensajes
INFO 2018-05-10 01:49:28,692 [views.py get_init_message_db 226]: Mensajes Iniciales
INFO 2018-05-10 01:49:28,692 [views.py get_init_message_db 227]: 6
INFO 2018-05-10 01:49:28,692 [views.py get_init_message_db 228]: None
INFO 2018-05-10 01:49:28,692 [views.py get_init_message_db 229]: False
INFO 2018-05-10 01:49:28,692 [views.py get_init_message_db 230]: False
INFO 2018-05-10 01:49:28,692 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:49:28,692 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 6 and mr.relation_status = 1
INFO 2018-05-10 01:49:28,693 [views.py query_fnt 340]: ((27, 'Este Proyecto fue desarrollado por los siguientes estudiantes de Ingeniería de Sistemas como proyecto de grado.', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 5, 5, 2, 50, 58), datetime.datetime(2018, 5, 5, 2, 50, 58)), (28, 'Daniel Alejandro Alfonso Perez, David Alexander Linares Villamil, Jonathan Alexander Torres Díaz', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 5, 5, 2, 50, 58), datetime.datetime(2018, 5, 5, 2, 50, 58)), (29, 'Todos los derechos reservados por la Universidad El Bosque. © 2018', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 5, 5, 2, 50, 58), datetime.datetime(2018, 5, 5, 2, 50, 58)))
INFO 2018-05-10 01:49:28,694 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:49:28,694 [views.py get_submessages_button_db 288]: (27, 'Este Proyecto fue desarrollado por los siguientes estudiantes de Ingeniería de Sistemas como proyecto de grado.', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 5, 5, 2, 50, 58), datetime.datetime(2018, 5, 5, 2, 50, 58))
INFO 2018-05-10 01:49:28,694 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:49:28,694 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 27 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:49:28,695 [views.py query_fnt 340]: ()
INFO 2018-05-10 01:49:28,695 [views.py get_submessages_button_db 299]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 01:49:28,695 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:49:28,695 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:49:29,693 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:49:29,693 [views.py get_submessages_button_db 288]: (28, 'Daniel Alejandro Alfonso Perez, David Alexander Linares Villamil, Jonathan Alexander Torres Díaz', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 5, 5, 2, 50, 58), datetime.datetime(2018, 5, 5, 2, 50, 58))
INFO 2018-05-10 01:49:29,694 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:49:29,694 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 28 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:49:29,695 [views.py query_fnt 340]: ()
INFO 2018-05-10 01:49:29,695 [views.py get_submessages_button_db 299]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 01:49:29,695 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:49:29,695 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:49:30,715 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:49:30,715 [views.py get_submessages_button_db 288]: (29, 'Todos los derechos reservados por la Universidad El Bosque. © 2018', 2, 1, 0, 0, None, 1, datetime.datetime(2018, 5, 5, 2, 50, 58), datetime.datetime(2018, 5, 5, 2, 50, 58))
INFO 2018-05-10 01:49:30,716 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:49:30,716 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 29 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:49:30,717 [views.py query_fnt 340]: ()
INFO 2018-05-10 01:49:30,717 [views.py get_submessages_button_db 299]: No hay submenus, se envía el mensaje.
INFO 2018-05-10 01:49:30,717 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:49:30,717 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:49:31,744 [views.py get_init_message_db 225]: Consultando mensajes
INFO 2018-05-10 01:49:31,745 [views.py get_init_message_db 226]: Mensajes Iniciales
INFO 2018-05-10 01:49:31,745 [views.py get_init_message_db 227]: 6
INFO 2018-05-10 01:49:31,745 [views.py get_init_message_db 228]: 3
INFO 2018-05-10 01:49:31,745 [views.py get_init_message_db 229]: False
INFO 2018-05-10 01:49:31,745 [views.py get_init_message_db 230]: False
INFO 2018-05-10 01:49:31,745 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:49:31,745 [views.py query_fnt 335]: select id_message, description_message, id_type_message, message_response from messages where id_message = 3 and is_message_button = 0 and message_status = 1
INFO 2018-05-10 01:49:31,746 [views.py query_fnt 340]: ((3, 'Puedes continuar escogiendo alguna de estas opciones:', 2, None),)
INFO 2018-05-10 01:49:31,746 [views.py get_submessages_button_db 287]: Consulta submenus para opciones
INFO 2018-05-10 01:49:31,746 [views.py get_submessages_button_db 288]: (3, 'Puedes continuar escogiendo alguna de estas opciones:', 2, None)
INFO 2018-05-10 01:49:31,746 [views.py query_fnt 334]: Ejecuta consulta...
INFO 2018-05-10 01:49:31,747 [views.py query_fnt 335]: select mch.* from messages as m inner join messages_relations as mr ON m.id_message = mr.message_parent inner join messages as mch on mr.message_child = mch.id_message where mr.message_parent = 3 and mch.is_message_button = 1 and mr.relation_status = 1
INFO 2018-05-10 01:49:31,747 [views.py query_fnt 340]: ((4, 'Practicar Idioma 🇨🇴', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (5, 'Ver Histórico 📈', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)), (6, 'Más Información 📃', 2, 1, 0, 1, None, 1, datetime.datetime(2018, 4, 29, 1, 22, 26), datetime.datetime(2018, 4, 29, 1, 22, 26)))
INFO 2018-05-10 01:49:31,748 [views.py get_submessages_button_db 294]: Si hay submenus, se procede a crear estructura de botones...
INFO 2018-05-10 01:49:31,748 [views.py send_text_message 436]: Tipo de Contenido
INFO 2018-05-10 01:49:31,748 [views.py send_text_message 437]: 2
INFO 2018-05-10 01:49:33,017 [views.py post 77]: Devuelve 200 OK
